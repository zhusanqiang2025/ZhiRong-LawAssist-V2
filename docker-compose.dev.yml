# docker-compose.dev.yml - 开发模式配置
# 使用方式: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d --build frontend
#
# 此配置覆盖 frontend 服务，添加源码挂载以支持热更新

services:
  # frontend:
    volumes:
      # 挂载源代码，实现热更新（需要使用 Vite 开发服务器）
      # 注意：这需要 Dockerfile 使用开发模式，而不是生产构建
      - ./frontend/src:/app/src:ro
      - ./frontend/public:/app/public:ro
      - ./frontend/index.html:/app/index.html:ro
      - ./frontend/package.json:/app/package.json:ro
      - ./frontend/tsconfig.json:/app/tsconfig.json:ro
      - ./frontend/vite.config.ts:/app/vite.config.ts:ro
      - ./frontend/tsconfig.node.json:/app/tsconfig.node.json:ro
    # 使用开发服务器命令（如果 Dockerfile 支持）
    # command: ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
