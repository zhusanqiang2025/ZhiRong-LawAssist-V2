import{r as o,z as Re,_ as Ie,o as y,j as e,d as R,c as nt,C as se,i as u,u as Wt,aB as Ht,ba as Nt,bb as Ut,F as V,B as C,D as Xe,t as Je,aA as Vt,h as ve,I as H,A as Qe,S as we,e as Gt,b as qt,az as Kt,n as Ye,bc as _e,bd as Ze,l as Xt,be as P,bf as Jt,G as Qt,aw as et}from"./index-BYD9hiRj.js";import{o as Yt}from"./index-DSh0ajPf.js";import{E as Zt}from"./EnhancedModuleNavBar-Ovq8lb8Y.js";import{M as es}from"./ModuleKnowledgeToggle-BLWiYll4.js";import{A as E,R as Ce}from"./DownloadOutlined-B6G0t9cA.js";import{S as tt}from"./index-B-JcSrrG.js";import{P as ts}from"./progress-s1QZWrHJ.js";import{R as be}from"./WarningOutlined-gqcjnKft.js";import{R as ss}from"./ExclamationCircleOutlined-C3ZmJbms.js";import{R as ns}from"./CheckCircleOutlined-DuTTSUmS.js";/* empty css                       */import{C as te}from"./FileOutlined-Ci6ONDw-.js";import{R as st}from"./DeleteOutlined-CiqcE3-2.js";import{M as Se}from"./index-DTkfcDzN.js";import{F as rs}from"./Table-DpDQvp7h.js";import{R as os}from"./CloseCircleOutlined-hZnCNamp.js";import{P as is}from"./index-CT2wc5AE.js";import{C as rt}from"./Collapse-Dh9S3qaY.js";import{R as ls}from"./CloudUploadOutlined-Bp3edasn.js";import"./ArrowLeftOutlined-CVuXMn9O.js";import"./DiffOutlined-m3bPN2jz.js";import"./DatabaseOutlined-CpJ-_kLE.js";import"./index-DUvwQ7Af.js";import"./InfoCircleOutlined-Bi4Mz-hP.js";import"./useBubbleLock-_0sC_zTy.js";import"./index-BRQJlRky.js";import"./FolderOpenOutlined-D1krmWtw.js";var as={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM472 744a40 40 0 1080 0 40 40 0 10-80 0zm16-104h48c4.4 0 8-3.6 8-8V448c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v184c0 4.4 3.6 8 8 8z"}}]},name:"file-exclamation",theme:"outlined"},cs=function(i,I){return o.createElement(Re,Ie({},i,{ref:I,icon:as}))},ds=o.forwardRef(cs),gs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"},us=function(i,I){return o.createElement(Re,Ie({},i,{ref:I,icon:gs}))},fs=o.forwardRef(us),ps={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},hs=function(i,I){return o.createElement(Re,Ie({},i,{ref:I,icon:ps}))},xs=o.forwardRef(hs);const ms=({contractId:k})=>{const[i,I]=o.useState(null),[r,$]=o.useState(!1),[M,_]=o.useState(null);o.useEffect(()=>{ne()},[k]);const ne=async()=>{$(!0),_(null);try{const m=await y.getHealthAssessment(k);I(m.data)}catch(m){console.error("è·å–å¥åº·åº¦è¯„ä¼°å¤±è´¥",m),_(m.response?.data?.detail||"è·å–å¥åº·åº¦è¯„ä¼°å¤±è´¥")}finally{$(!1)}},N=m=>{switch(m){case"å¥åº·":return"#52c41a";case"è‰¯å¥½":return"#1890ff";case"ä¸­ç­‰é£é™©":return"#faad14";case"é«˜é£é™©":return"#ff4d4f";case"æé«˜é£é™©":return"#cf1322";default:return"#8c8c8c"}},F=m=>{switch(m){case"å¥åº·":case"è‰¯å¥½":return e.jsx(ns,{});case"ä¸­ç­‰é£é™©":return e.jsx(ss,{});case"é«˜é£é™©":case"æé«˜é£é™©":return e.jsx(be,{});default:return null}},U=m=>{switch(m){case"å¥åº·":case"è‰¯å¥½":return"success";case"ä¸­ç­‰é£é™©":return"warning";case"é«˜é£é™©":case"æé«˜é£é™©":return"error";default:return"info"}};return r?e.jsx(R,{loading:!0}):M?e.jsx(R,{className:"health-assessment-card",style:{marginBottom:20},children:e.jsx(E,{message:"å¥åº·åº¦è¯„ä¼°åŠ è½½å¤±è´¥",description:M,type:"error",showIcon:!0})}):i?e.jsxs(R,{className:"health-assessment-card",style:{marginBottom:20},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:16},children:[e.jsx(xs,{style:{fontSize:24,color:N(i.level)}}),e.jsx("h2",{style:{margin:0,fontSize:18},children:"åˆåŒå¥åº·åº¦ç»¼åˆè¯„ä¼°"})]}),e.jsxs(nt,{gutter:24,children:[e.jsx(se,{span:8,children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(tt,{title:"å¥åº·åº¦è¯„åˆ†",value:i.score,suffix:"/ 100",valueStyle:{color:N(i.level),fontSize:28}}),e.jsx(ts,{percent:i.score,strokeColor:N(i.level),showInfo:!1,style:{marginTop:12},strokeWidth:12})]})}),e.jsx(se,{span:8,children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(tt,{title:"é£é™©ç­‰çº§",value:i.level,prefix:F(i.level),valueStyle:{color:N(i.level),fontSize:18}}),e.jsxs("div",{style:{marginTop:12,color:"#8c8c8c",fontSize:13},children:["å…±å‘ç° ",i.total_risks," ä¸ªé£é™©ç‚¹"]})]})}),e.jsx(se,{span:8,children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:14,color:"#8c8c8c",marginBottom:12},children:"é£é™©åˆ†å¸ƒ"}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:6},children:[i.risk_distribution.Critical>0&&e.jsxs(u,{color:"red",children:["æä¸¥é‡: ",i.risk_distribution.Critical]}),i.risk_distribution.High>0&&e.jsxs(u,{color:"orange",children:["é«˜é£é™©: ",i.risk_distribution.High]}),i.risk_distribution.Medium>0&&e.jsxs(u,{color:"gold",children:["ä¸­ç­‰: ",i.risk_distribution.Medium]}),i.risk_distribution.Low>0&&e.jsxs(u,{color:"blue",children:["è½»å¾®: ",i.risk_distribution.Low]}),i.total_risks===0&&e.jsx(u,{color:"green",children:"æ— é£é™©ç‚¹"})]})]})})]}),e.jsx(E,{message:"ç»¼åˆè¯„ä¼°",description:i.summary,type:U(i.level),showIcon:!0,style:{marginTop:20}}),i.recommendations&&i.recommendations.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:8,fontSize:14},children:"æ”¹è¿›å»ºè®®ï¼š"}),e.jsx("ul",{style:{paddingLeft:20,margin:0},children:i.recommendations.map((m,f)=>e.jsx("li",{style:{marginBottom:4},children:m},f))})]})]}):null},{TextArea:ke}=H,{Panel:ys}=rt,G=k=>{if(Array.isArray(k))return k;if(!k)return[];const i=[],I=k.split(/[ï¼›;]/);for(const r of I){const $=r.trim();$&&i.push($)}return i.length>0?i:[k]},Ks=()=>{const k=Wt(),{contractId:i}=Ht(),[I]=Nt(),{message:r}=Ut.useApp(),[$,M]=o.useState(null),[_,ne]=o.useState(null),[N,F]=o.useState(!1),[U,m]=o.useState("upload"),[f,L]=o.useState({}),[Te,Be]=o.useState("ç”²æ–¹"),[v,ae]=o.useState([]),[ce,X]=o.useState(!1),[re,de]=o.useState(!1),[js,ot]=o.useState(!1),[vs,it]=o.useState(""),[J,O]=o.useState(!1);o.useEffect(()=>{console.log("ğŸ“Š showUploadProgress çŠ¶æ€å˜åŒ–:",J,"uploadProgressRef.current:",b.current)},[J]);const[$e,lt]=o.useState(!1),[ze,at]=o.useState(0),[ct,Ee]=o.useState(!1),[dt,ge]=o.useState(!1),[gt,ut]=o.useState([]),[ue]=V.useForm(),[oe,ft]=o.useState([]),[pt,fe]=o.useState(!1),[D,ht]=o.useState(null),[pe,Ae]=o.useState(""),[he,Me]=o.useState(""),[z,ie]=o.useState([]),[Q,Oe]=o.useState(!1),[xt,Pe]=o.useState(!1),[xe,mt]=o.useState(null),[yt,Fe]=o.useState("suggestions"),[Le,W]=o.useState(""),T=o.useRef(null),b=o.useRef(!1),le=o.useRef(0),Y=async()=>{try{const s=(await y.get("/admin/rules",{params:{category:"custom"}})).data.filter(n=>!n.is_system);ut(s),at(s.length)}catch(t){console.error("è·å–è‡ªå®šä¹‰è§„åˆ™å¤±è´¥",t)}};o.useEffect(()=>{Y()},[]),o.useEffect(()=>{_&&localStorage.setItem("contractReview_contractId",_.toString())},[_]),o.useEffect(()=>{const t=I.get("feishu_record_id");t&&(console.log("ğŸ“Œ ä» URL è·å–é£ä¹¦è®°å½•ID:",t),mt(t))},[I]),o.useEffect(()=>{(async()=>{if(!i)return;const s=parseInt(i);if(isNaN(s)){r.error("æ— æ•ˆçš„åˆåŒ ID"),k("/contract/review");return}console.log("ğŸ“Œ ä» URL åŠ è½½åˆåŒ:",s),F(!0);try{ne(s);const n=await y.get(`/contract-review/${s}/processing-status`),{processing_status:l,can_load_editor:j,has_metadata:c,metadata:a}=n.data;if(console.log("ğŸ“Œ URL åŠ è½½åˆåŒçŠ¶æ€:",l,"can_load_editor:",j),j){const h=await y.get(`/contract-review/${s}/onlyoffice-config`),S=h.data.config,x=h.data.token;M({...S,token:x})}c&&a&&(L(h=>({...h,contract_name:a.contract_name||h.contract_name||"",parties:G(a.parties),amount:a.amount||h.amount||"",contract_type:a.contract_type||h.contract_type||"",core_terms:a.core_terms||h.core_terms||"",legal_features:a.legal_features||h.legal_features})),X(!1),de(!0));const p=await y.get(`/contract-review/${s}/review-results`),{status:d,review_items:g}=p.data;d==="waiting_human"||d==="approved"?(ae(g||[]),Be(p.data.stance||"ç”²æ–¹"),m("results"),r.success(`å®¡æŸ¥å·²å®Œæˆï¼Œå‘ç° ${g?.length||0} ä¸ªé£é™©ç‚¹`)):d==="reviewing"||d==="processing"?(m("reviewing"),W("æ­£åœ¨å®¡æŸ¥ä¸­..."),We()):m("metadata")}catch(n){console.error("åŠ è½½åˆåŒå¤±è´¥",n),r.error(n.response?.data?.detail||"åŠ è½½åˆåŒå¤±è´¥"),k("/contract/review")}finally{F(!1)}})()},[i]),o.useEffect(()=>{localStorage.setItem("contractReview_step",U)},[U]);const jt=async t=>{try{await y.post("/admin/rules",{...t,rule_category:"custom",is_system:!1}),r.success("è‡ªå®šä¹‰è§„åˆ™åˆ›å»ºæˆåŠŸ"),Y(),ge(!1)}catch(s){r.error(s.response?.data?.detail||"åˆ›å»ºå¤±è´¥")}},vt=async t=>{try{await y.delete(`/admin/rules/${t}`),r.success("åˆ é™¤æˆåŠŸ"),Y()}catch(s){r.error(s.response?.data?.detail||"åˆ é™¤å¤±è´¥")}},wt=async t=>{try{await y.put(`/admin/rules/${t}/toggle`),r.success("çŠ¶æ€æ›´æ–°æˆåŠŸ"),Y()}catch(s){r.error(s.response?.data?.detail||"æ›´æ–°å¤±è´¥")}},_t=async t=>{const s=t.target.files?.[0];if(!s)return;const n=s.name.toLowerCase();if(![".doc",".docx",".pdf",".txt",".rtf",".odt",".jpg",".jpeg",".png",".bmp",".tiff",".gif"].some(a=>n.endsWith(a))){r.error("æ”¯æŒçš„æ ¼å¼ï¼šæ–‡æ¡£ (.doc/.docx/.pdf/.txt/.rtf/.odt) æˆ–å›¾ç‰‡ (.jpg/.png/.bmp)");return}[".jpg",".jpeg",".png",".bmp",".tiff",".gif"].some(a=>n.endsWith(a))?r.info("æ­£åœ¨ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ï¼Œç³»ç»Ÿå°†ä½¿ç”¨ OCR è¯†åˆ«æ–‡å­—å†…å®¹..."):(n.endsWith(".doc")||n.endsWith(".pdf")||n.endsWith(".txt")||n.endsWith(".rtf")||n.endsWith(".odt"))&&r.info(`æ­£åœ¨ä¸Šä¼  ${n.split(".").pop()} æ–‡ä»¶ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è½¬æ¢ä¸º .docx æ ¼å¼...`),F(!0);try{console.log("ğŸ”µ å¼€å§‹ä¸Šä¼ æ–‡ä»¶ï¼Œè®¾ç½®ä¸Šä¼ è¿›åº¦çŠ¶æ€"),le.current=Date.now(),b.current=!0,P.flushSync(()=>{O(!0),ot(!0)}),console.log("ğŸ”µ ä¸Šä¼ è¿›åº¦çŠ¶æ€å·²åŒæ­¥è®¾ç½®ï¼ŒshowUploadProgress:",J,"uploadProgressRef.current:",b.current);const a=await y.uploadContract(s),p=a.data.contract_id;if(console.log("ä¸Šä¼ æˆåŠŸï¼Œcontract_id:",p,"å“åº”æ•°æ®:",a.data),ne(p),a.data.preprocess_info){const{original_format:d}=a.data.preprocess_info;d&&d!=="docx"?r.success(`æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼æ­£åœ¨è½¬æ¢ ${d.toUpperCase()} æ ¼å¼...`):r.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼æ­£åœ¨åå°å¤„ç†...")}else r.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼æ­£åœ¨åå°å¤„ç†...");if(a.data.config&&a.data.token){M({...a.data.config,token:a.data.token}),console.log("OnlyOffice é…ç½®å·²è®¾ç½® (æ¥è‡ªä¸Šä¼ å“åº”)");const d=3e3,g=Date.now()-le.current;if(g<d){const h=d-g;console.log(`â³ ä¸Šä¼ å“åº”åŒ…å« configï¼Œä½†ç­‰å¾… ${h}ms åéšè—ä¸Šä¼ è¿›åº¦ç•Œé¢`),setTimeout(()=>{b.current=!1,P.flushSync(()=>{O(!1)}),console.log("âœ… ä¸Šä¼ è¿›åº¦ç•Œé¢å·²éšè—ï¼ˆæœ€å°æ˜¾ç¤ºæ—¶é—´å·²è¿‡ï¼‰")},h)}else b.current=!1,P.flushSync(()=>{O(!1)})}else{r.info("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨åå°å¤„ç†æ ¼å¼å’Œé¢„è§ˆ...");const d=async(g=0)=>{if(g>=30){console.warn("åå°å¤„ç†è½®è¯¢è¶…æ—¶ï¼Œå°è¯•è·å–é…ç½®");try{const S=await y.get(`/contract-review/${p}/onlyoffice-config`),x=S.data.config,w=S.data.token;M({...x,token:w}),console.log("OnlyOffice é…ç½®å·²è®¾ç½® (è¶…æ—¶åè·å–)")}catch(S){console.warn("è¶…æ—¶åä»æ— æ³•è·å– OnlyOffice é…ç½®",S)}return}try{const S=await y.get(`/contract-review/${p}/processing-status`),{processing_status:x,can_load_editor:w}=S.data;if(it(x),console.log(`åå°å¤„ç†çŠ¶æ€ (ç¬¬${g+1}æ¬¡):`,x,"can_load_editor:",w),w){const q=await y.get(`/contract-review/${p}/onlyoffice-config`),Z=q.data.config,A=q.data.token;M({...Z,token:A});const ee=3e3,B=Date.now()-le.current;if(B<ee){const K=ee-B;console.log(`â³ pollProcessingComplete: ç­‰å¾… ${K}ms åéšè—ä¸Šä¼ è¿›åº¦ç•Œé¢`),setTimeout(()=>{b.current=!1,P.flushSync(()=>{O(!1)}),console.log("âœ… ä¸Šä¼ è¿›åº¦ç•Œé¢å·²éšè—ï¼ˆpollProcessingComplete æœ€å°æ˜¾ç¤ºæ—¶é—´å·²è¿‡ï¼‰")},K)}else b.current=!1,P.flushSync(()=>{O(!1)});console.log("OnlyOffice é…ç½®å·²è®¾ç½® (docxè½¬æ¢å®Œæˆå³å¯åŠ è½½)"),x==="completed"?r.success("æ–‡ä»¶å¤„ç†å®Œæˆï¼Œå¯ä»¥å¼€å§‹ç¼–è¾‘"):x==="metadata_extraction"?r.info("ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ­£åœ¨æå–åˆåŒå…ƒæ•°æ®..."):x==="pdf_generation"&&r.info("ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ­£åœ¨ç”ŸæˆPDFé¢„è§ˆ...");return}else setTimeout(()=>d(g+1),2e3)}catch(S){console.warn("æŸ¥è¯¢å¤„ç†çŠ¶æ€å¤±è´¥ï¼Œ2ç§’åé‡è¯•",S),setTimeout(()=>d(g+1),2e3)}};d()}if(m("metadata"),X(!0),de(!1),p){const d=async(g=0)=>{const S=(x,w)=>w<5?"æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨å¤„ç†...":x==="format_conversion"?"æ­£åœ¨è½¬æ¢æ–‡ä»¶æ ¼å¼ï¼ˆ.doc â†’ .docxï¼‰...":x==="pdf_generation"?"æ­£åœ¨ç”ŸæˆPDFé¢„è§ˆ...":x==="metadata_extraction"?"æ­£åœ¨æå–åˆåŒå…ƒæ•°æ®...":w<15?"åˆåŒä¿¡æ¯æå–ä¸­ï¼Œè¯·ç¨å€™...":w<30?"æ­£åœ¨åˆ†æåˆåŒæ¡æ¬¾ï¼ˆå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰...":"ä»åœ¨å¤„ç†ä¸­ï¼Œæ„Ÿè°¢æ‚¨çš„è€å¿ƒç­‰å¾…...";if(g>45){console.warn("å¤„ç†çŠ¶æ€è½®è¯¢è¶…æ—¶"),X(!1),b.current=!1,P.flushSync(()=>{O(!1)}),r.warning({content:"æ–‡ä»¶å¤„ç†è€—æ—¶è¾ƒé•¿ï¼Œå¯èƒ½æ˜¯æ–‡ä»¶æ ¼å¼è¾ƒå¤æ‚ã€‚æ‚¨å¯ä»¥ç¨ååˆ·æ–°é¡µé¢æˆ–ç»§ç»­å¡«å†™åˆåŒä¿¡æ¯ã€‚",duration:6});return}try{const x=await y.get(`/contract-review/${p}/processing-status`);console.log(`è½®è¯¢å¤„ç†çŠ¶æ€ (ç¬¬${g+1}æ¬¡):`,x.data);const{processing_status:w,can_load_editor:q,has_metadata:Z,metadata:A,error_message:ee}=x.data;if(q&&!$){console.log("âœ… æ£€æµ‹åˆ°å¯ä»¥åŠ è½½ç¼–è¾‘å™¨");const B=await y.get(`/contract-review/${p}/onlyoffice-config`),K=B.data.config,qe=B.data.token;M({...K,token:qe}),console.log("âœ… OnlyOffice é…ç½®å·²è®¾ç½®ï¼ŒeditorConfig:",{...K,token:qe});const ye=3e3,je=Date.now()-le.current;if(console.log(`â±ï¸ å·²æ˜¾ç¤º ${je}msï¼Œæœ€å°æ˜¾ç¤ºæ—¶é—´ ${ye}ms`),je<ye){const Ke=ye-je;console.log(`â³ ç­‰å¾… ${Ke}ms åéšè—ä¸Šä¼ è¿›åº¦ç•Œé¢`),setTimeout(()=>{b.current=!1,P.flushSync(()=>{O(!1)}),console.log("âœ… ä¸Šä¼ è¿›åº¦ç•Œé¢å·²éšè—ï¼ˆæœ€å°æ˜¾ç¤ºæ—¶é—´å·²è¿‡ï¼‰")},Ke)}else console.log("âœ… å·²è¶…è¿‡æœ€å°æ˜¾ç¤ºæ—¶é—´ï¼Œç«‹å³éšè—ä¸Šä¼ è¿›åº¦ç•Œé¢"),b.current=!1,P.flushSync(()=>{O(!1)});w==="completed"?r.success("æ–‡ä»¶å¤„ç†å®Œæˆï¼Œå¯ä»¥å¼€å§‹ç¼–è¾‘"):w==="metadata_extraction"?r.info("ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ­£åœ¨æå–åˆåŒå…ƒæ•°æ®..."):w==="pdf_generation"&&r.info("ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ­£åœ¨ç”ŸæˆPDFé¢„è§ˆ...")}if(g>0&&g%10===0&&r.info(S(w,g),2),w==="error"){console.error("åå°å¤„ç†å¤±è´¥:",ee),X(!1),b.current=!1,P.flushSync(()=>{O(!1)}),r.error(`æ–‡ä»¶å¤„ç†å¤±è´¥: ${ee}`);return}if(Z&&A){console.log("âœ… å…ƒæ•°æ®å·²å°±ç»ª:",A),L(B=>({...B,contract_name:A.contract_name||B.contract_name||"",parties:G(A.parties),amount:A.amount||B.amount||"",contract_type:A.contract_type||B.contract_type||"",core_terms:A.core_terms||B.core_terms||"",legal_features:A.legal_features||B.legal_features})),X(!1),de(!0),r.success("åˆåŒä¿¡æ¯æå–æˆåŠŸï¼Œå¯ä¿®æ”¹åç¡®è®¤");return}else console.log(`â³ å¤„ç†ä¸­ (${w})ï¼Œ2ç§’åé‡è¯•...`),setTimeout(()=>d(g+1),2e3)}catch(x){console.error("æ£€æŸ¥å¤„ç†çŠ¶æ€å¤±è´¥",x),setTimeout(()=>d(g+1),2e3)}};d()}}catch(a){console.error("ä¸Šä¼ å¤±è´¥",a),r.error(a.response?.data?.detail||"æ–‡ä»¶ä¸Šä¼ å¤±è´¥")}finally{F(!1)}},De=async()=>{if(_){F(!0),m("reviewing"),W("ğŸ“‹ æ­£åœ¨å¯åŠ¨å®¡æŸ¥ä»»åŠ¡..."),r.info({content:"æ­£åœ¨å¯åŠ¨åˆåŒæ·±åº¦å®¡æŸ¥...",duration:3});try{const t={...f};Array.isArray(f.parties)&&(t.parties=f.parties.join("; "));const s=new FormData;s.append("stance",Te),s.append("enable_custom_rules",$e.toString()),s.append("use_langgraph","true"),s.append("use_celery","true"),oe.length>0&&(s.append("transaction_structures",JSON.stringify(oe)),console.log("ğŸ“¤ å‘é€äº¤æ˜“ç»“æ„:",JSON.stringify(oe))),s.append("updated_metadata",JSON.stringify(t)),console.log("ğŸ“¤ å‘é€å…ƒæ•°æ®:",t),(await y.post(`/contract-review/${_}/deep-review`,s,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&r.success("æ·±åº¦å®¡æŸ¥ä»»åŠ¡å·²æäº¤ï¼Œæ­£åœ¨åå°åŠ è½½å®¡æŸ¥è§„åˆ™å¹¶åˆ†æåˆåŒ..."),We()}catch(t){console.error("å®¡æŸ¥å¯åŠ¨å¤±è´¥",t),console.error("é”™è¯¯è¯¦æƒ…:",t.response?.data),W(""),r.error(t.response?.data?.detail||"å®¡æŸ¥å¯åŠ¨å¤±è´¥"),m("metadata")}finally{F(!1)}}},We=async()=>{if(!_)return;let t=0;const s=150;let n=0;const l=[{message:"ğŸ“‹ æ­£åœ¨åŠ è½½å®¡æŸ¥è§„åˆ™...",threshold:0},{message:"ğŸ” æ­£åœ¨åˆ†æåˆåŒæ¡æ¬¾...",threshold:10},{message:"âš ï¸ æ­£åœ¨è¯†åˆ«é£é™©ç‚¹...",threshold:30},{message:"ğŸ“ æ­£åœ¨ç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š...",threshold:60},{message:"ğŸ¯ æ­£åœ¨ä¼˜åŒ–å®¡æŸ¥ç»“æœ...",threshold:90}],j=async()=>{try{t++;const c=l.find((g,h)=>t>=g.threshold&&(h===l.length-1||t<l[h+1].threshold));c&&n!==l.indexOf(c)&&(n=l.indexOf(c),W(c.message),r.loading({content:c.message,duration:4,key:"review-progress"}),console.log(`[å®¡æŸ¥è¿›åº¦] ${c.message} (ç¬¬${t}æ¬¡è½®è¯¢)`));const a=await y.getReviewResults(_),{status:p,review_items:d}=a.data;if(console.log(`[å®¡æŸ¥è½®è¯¢] ç¬¬${t}æ¬¡: status=${p}, items=${d?.length||0}`),p==="waiting_human"||p==="approved"){ae(d),m("results"),W(""),r.success({content:`âœ… å®¡æŸ¥å®Œæˆï¼å‘ç° ${d.length} ä¸ªé£é™©ç‚¹`,duration:5});return}else p==="processing"||p==="pending"||p==="reviewing"||p==="draft"?t<s?setTimeout(j,3e3):(W(""),r.error("å®¡æŸ¥è¶…æ—¶ï¼Œè¯·ç¨ååˆ·æ–°æŸ¥çœ‹ç»“æœ")):(W(""),r.warning(`æœªçŸ¥çŠ¶æ€: ${p}ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•`))}catch(c){console.error("è·å–ç»“æœå¤±è´¥",c),t<s?setTimeout(j,5e3):(W(""),r.error("è·å–å®¡æŸ¥ç»“æœè¶…æ—¶"))}};j()},Ct=t=>{ht(t),Ae(t.explanation),Me(t.suggestion),fe(!0)},St=async()=>{if(D)try{await y.updateReviewItem(D.id,{explanation:pe,suggestion:he}),ae(v.map(t=>t.id===D.id?{...t,explanation:pe,suggestion:he}:t)),r.success("å®¡æŸ¥æ„è§å·²æ›´æ–°"),fe(!1)}catch(t){console.error("æ›´æ–°å®¡æŸ¥æ„è§å¤±è´¥",t),r.error(t.response?.data?.detail||"æ›´æ–°å¤±è´¥")}},me=async t=>{if(!_)return;const s=t||z;if(s.length===0){r.warning("è¯·å…ˆé€‰æ‹©è¦åº”ç”¨çš„ä¿®æ”¹æ„è§");return}Oe(!0);try{const n=await y.applyRevisions(_,s,!1);if(n.data.config&&n.data.token){M({...n.data.config,token:n.data.token});const l=n.data.converted?` (åŸæ–‡ä»¶æ ¼å¼: ${n.data.original_format?.toUpperCase()||"PDF"}ï¼Œå·²è‡ªåŠ¨è½¬æ¢ä¸º Word æ ¼å¼)`:"";r.success(`å·²åº”ç”¨ ${n.data.applied_count} æ¡ä¿®è®¢å»ºè®®${l}`+(n.data.not_found_count>0?`ï¼Œ${n.data.not_found_count} æ¡æœªæ‰¾åˆ°åŸæ–‡`:"")),r.info("ä¿®è®¢æ ·å¼ï¼šçº¢è‰²åˆ é™¤çº¿ = åŸæ–‡ï¼Œé»„è‰²é«˜äº®ä¸‹åˆ’çº¿ = ä¿®è®¢å†…å®¹")}else r.error("ç”Ÿæˆä¿®è®¢æ–‡æ¡£å¤±è´¥")}catch(n){console.error("åº”ç”¨ä¿®è®¢å¤±è´¥",n),r.error(n.response?.data?.detail||"åº”ç”¨ä¿®è®¢å¤±è´¥")}finally{Oe(!1)}},kt=t=>{ie(t?v.map(s=>s.id):[])},bt=(t,s)=>{ie(s?[...z,t]:z.filter(n=>n!==t))},He=t=>{console.log("[é«˜äº®å®šä½] å°è¯•å®šä½:",t),console.log("[é«˜äº®å®šä½] Connector çŠ¶æ€:",{hasConnector:!!T.current,connectorType:typeof T.current,hasExecuteMethod:typeof T.current?.executeMethod=="function",hasCallCommand:typeof T.current?.callCommand=="function"});const s=t.trim();if(!s){r.warning("å®¡æŸ¥æ„è§åŸæ–‡ä¸ºç©º");return}const n=s.replace(/[ï¼Œã€‚ï¼›ï¼šï¼ï¼Ÿã€""''ï¼ˆï¼‰ã€ã€‘ã€Šã€‹\s]/g," ").split(" ").filter(c=>c.length>1).slice(0,3),l=n.length>0?n[0]:s;console.log("[é«˜äº®å®šä½] æœç´¢å…³é”®è¯:",l,"å…¨éƒ¨å…³é”®è¯:",n);const j=()=>{if(T.current&&typeof T.current.callCommand=="function"){console.log("[é«˜äº®å®šä½] ä½¿ç”¨ callCommand æ–¹æ³•");try{T.current.callCommand(function(){if(typeof Api>"u"||!Api.GetDocument)return console.warn("[é«˜äº®å®šä½] Builder API ä¸å¯ç”¨"),-1;const c=Api.GetDocument();let a=0;const p=c.GetElementsCount(),d=n.length>0?n:[s];for(let g=0;g<p;g++){const h=c.GetElement(g),S=h.GetText?h.GetText():"";if(S){for(const x of d)if(S.indexOf(x)!==-1){const w=S.indexOf(x),q=w+x.length;if(h.GetRange){const Z=h.GetRange(w,q);a===0&&c.SetCurrentRange&&c.SetCurrentRange(Z),a++;break}}}}return a},c=>{const a=typeof c=="number"?c:0;a>0?r.success(`å·²å®šä½åˆ° ${a} å¤„ç›¸å…³å†…å®¹ï¼Œå…³é”®è¯: ${n.join(", ")}`):r.info(`æœªåœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°ç²¾ç¡®åŒ¹é…ï¼Œå»ºè®®å…³é”®è¯: ${n.join(", ")}`)});return}catch(c){console.error("[é«˜äº®å®šä½] callCommand å¼‚å¸¸:",c)}}else console.log("[é«˜äº®å®šä½] callCommand ä¹Ÿä¸å¯ç”¨ï¼Œæ˜¾ç¤ºæ‰‹åŠ¨æœç´¢æç¤º"),r.info(`ğŸ’¡ æç¤ºï¼šè¯·æŒ‰ Ctrl+F åœ¨æ–‡æ¡£ä¸­æœç´¢ï¼Œå»ºè®®å…³é”®è¯: ${n.join(", ")}`)};if(T.current&&typeof T.current.executeMethod=="function"){console.log("[é«˜äº®å®šä½] ä½¿ç”¨ executeMethod æ–¹æ³•");try{T.current.executeMethod("SearchAndReplace",function(){r.success(`å·²å®šä½åˆ°å…³é”®è¯: "${l}"${n.length>1?` (å…¶ä»–: ${n.slice(1).join(", ")})`:""}`)},function(c){console.warn("[é«˜äº®å®šä½] executeMethod å¤±è´¥:",c),j()},{searchString:l,replaceString:l,matchCase:!1});return}catch(c){console.warn("[é«˜äº®å®šä½] executeMethod å¼‚å¸¸:",c),j();return}}j()},Ne=async t=>{if(_)try{const s=await y.downloadContract(_,t),n=window.URL.createObjectURL(s),l=document.createElement("a");l.href=n,l.download=t==="revised"?"ä¿®è®¢ç‰ˆåˆåŒ.docx":"åŸå§‹åˆåŒ.docx",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(n),document.body.removeChild(l),r.success(t==="revised"?"ä¿®è®¢ç‰ˆæ–‡ä»¶ä¸‹è½½æˆåŠŸ":"åŸå§‹æ–‡ä»¶ä¸‹è½½æˆåŠŸ")}catch(s){console.error("ä¸‹è½½å¤±è´¥",s),r.error(s.response?.data?.detail||"ä¸‹è½½å¤±è´¥")}},Rt=async()=>{if(!_||!xe){r.warning("ç¼ºå°‘é£ä¹¦è®°å½•IDï¼Œæ— æ³•ä¸Šä¼ åˆ°é£ä¹¦å¤šç»´è¡¨");return}try{Pe(!0),r.loading({content:"æ­£åœ¨ä¸Šä¼ åˆ°é£ä¹¦å¤šç»´è¡¨...",key:"upload-feishu",duration:0}),await y.uploadRevisedToFeishu(_,xe),r.success({content:"âœ… å®¡æŸ¥ååˆåŒå·²ä¸Šä¼ è‡³é£ä¹¦å¤šç»´è¡¨",key:"upload-feishu",duration:4})}catch(t){console.error("ä¸Šä¼ åˆ°é£ä¹¦å¤±è´¥",t),r.error({content:t.response?.data?.detail||"ä¸Šä¼ åˆ°é£ä¹¦å¤±è´¥",key:"upload-feishu",duration:5})}finally{Pe(!1)}},It=[{key:"original",label:"ä¸‹è½½åŸå§‹æ–‡ä»¶",icon:e.jsx(Ce,{}),onClick:()=>Ne("original")},{key:"revised",label:"ä¸‹è½½ä¿®è®¢ç‰ˆæ–‡ä»¶",icon:e.jsx(Ce,{}),onClick:()=>Ne("revised")},{key:"upload-feishu",label:"ä¸Šä¼ åˆ°é£ä¹¦å¤šç»´è¡¨",icon:e.jsx(ls,{}),onClick:Rt,disabled:!xe||xt}],Tt=t=>{Xt.office?.("ONLYOFFICE Ready!");try{const s=t?.docEditor?.createConnector?.();T.current=s??null,console.log("[OnlyOffice Connector] åˆå§‹åŒ–çŠ¶æ€:",{hasConnector:!!s,hasExecuteMethod:typeof s?.executeMethod=="function",hasCallCommand:typeof s?.callCommand=="function",connectorType:typeof s}),s||console.warn("[OnlyOffice Connector] âš ï¸ connector ä¸º nullï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨å®šä½åŠŸèƒ½")}catch(s){console.error("[OnlyOffice Connector] åˆ›å»º connector å¤±è´¥",s),T.current=null}},Ue=()=>v.filter(t=>t.entity_risk),Bt=()=>({Critical:v.filter(t=>t.severity==="Critical").length,High:v.filter(t=>t.severity==="High").length,Medium:v.filter(t=>t.severity==="Medium").length,Low:v.filter(t=>t.severity==="Low").length}),$t=()=>{const t={};return v.forEach(s=>{const n=s.issue_type;t[n]=(t[n]||0)+1}),Object.entries(t).sort((s,n)=>n[1]-s[1])},Ve=()=>v.filter(t=>t.severity==="Critical"||t.severity==="High"),Ge=()=>v.filter(t=>t.action_type==="Alert"),zt=()=>{const t=G(f.parties);t.push(""),L({...f,parties:t})},Et=(t,s)=>{const n=G(f.parties);n[t]=s,L({...f,parties:n})},At=t=>{const s=G(f.parties);s.splice(t,1),L({...f,parties:s})},Mt=()=>{const t=Bt(),s=$t();return e.jsxs("div",{style:{padding:"16px 0"},children:[e.jsxs(nt,{gutter:24,style:{marginBottom:24},children:[e.jsx(se,{span:12,children:e.jsx(R,{title:"é£é™©ç­‰çº§åˆ†å¸ƒ",bordered:!1,children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:16},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"#ff4d4f"},children:t.Critical}),e.jsx("div",{style:{color:"#666"},children:"æä¸¥é‡"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"#faad14"},children:t.High}),e.jsx("div",{style:{color:"#666"},children:"é«˜é£é™©"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"#1890ff"},children:t.Medium}),e.jsx("div",{style:{color:"#666"},children:"ä¸­ç­‰"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"#52c41a"},children:t.Low}),e.jsx("div",{style:{color:"#666"},children:"è½»å¾®"})]})]})})}),e.jsx(se,{span:12,children:e.jsx(R,{title:"é—®é¢˜ç±»å‹åˆ†å¸ƒ",bordered:!1,children:e.jsx("div",{style:{marginTop:16},children:s.slice(0,5).map(([n,l])=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,padding:"8px 12px",background:"#f5f5f5",borderRadius:"4px"},children:[e.jsx("span",{children:n}),e.jsx(u,{color:"blue",children:l})]},n))})})})]}),e.jsx(E,{message:"æ“ä½œå»ºè®®",description:e.jsxs("div",{children:[e.jsx("p",{children:"1. ä¼˜å…ˆå¤„ç†æä¸¥é‡å’Œé«˜é£é™©é—®é¢˜"}),e.jsx("p",{children:'2. æŸ¥çœ‹"ä¿®æ”¹æ„è§"æ ‡ç­¾é¡µåº”ç”¨å…·ä½“ä¿®è®¢å»ºè®®'}),e.jsx("p",{children:'3. å…³æ³¨"ä¸»ä½“é£é™©"æ ‡ç­¾é¡µä¸­çš„äº¤æ˜“æ–¹é£é™©ä¿¡æ¯'}),e.jsx("p",{children:"4. å¯¹äºç¼ºå¤±æ¡æ¬¾ï¼Œè€ƒè™‘ä¸å¯¹æ–¹åå•†è¡¥å……"})]}),type:"info",showIcon:!0})]})},Ot=()=>e.jsxs("div",{children:[e.jsx(E,{message:`å…±å‘ç° ${v.length} ä¸ªé£é™©ç‚¹ï¼Œå·²é€‰ ${z.length} æ¡`,type:v.some(t=>t.action_type==="Alert")?"warning":"info",style:{marginBottom:16}}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap"},children:[e.jsx(te,{checked:z.length===v.length&&v.length>0,indeterminate:z.length>0&&z.length<v.length,onChange:t=>kt(t.target.checked),children:"å…¨é€‰"}),e.jsxs(C,{type:"primary",onClick:()=>me(),disabled:z.length===0||Q,loading:Q,icon:e.jsx(Ze,{}),children:["åº”ç”¨é€‰å®šä¿®è®¢ (",z.length,")"]}),e.jsx(C,{onClick:()=>me(v.map(t=>t.id)),disabled:Q,loading:Q,children:"å…¨éƒ¨åº”ç”¨"}),e.jsx(Jt,{menu:{items:It},trigger:["click"],children:e.jsx(C,{icon:e.jsx(Ce,{}),children:"ä¸‹è½½æ–‡ä»¶"})})]}),v.map(t=>e.jsx(R,{style:{marginBottom:12,border:z.includes(t.id)?"2px solid #1890ff":void 0},className:"risk-card",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsx(te,{checked:z.includes(t.id),onChange:s=>bt(t.id,s.target.checked)}),e.jsxs("div",{style:{flex:1,marginLeft:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[e.jsx("strong",{children:t.issue_type}),e.jsx(u,{color:t.severity==="Critical"?"red":t.severity==="High"?"orange":"blue",children:t.severity}),t.action_type==="Alert"&&e.jsx(u,{color:"red",children:"ä¸¥é‡è­¦å‘Š"}),t.entity_risk&&e.jsxs(u,{color:t.entity_risk.risk_level==="High"?"red":t.entity_risk.risk_level==="Medium"?"orange":"default",icon:e.jsx(be,{}),children:["ä¸»ä½“é£é™©: ",t.entity_risk.risk_level]}),t.related_entities&&t.related_entities.length>0&&e.jsxs(u,{color:"cyan",icon:e.jsx(_e,{}),children:["æ¶‰åŠ: ",t.related_entities.join(", ")]})]}),e.jsxs("div",{style:{background:"#f5f5f5",padding:"8px",borderRadius:"4px",margin:"8px 0",cursor:"pointer",fontSize:"13px",border:"1px dashed #d9d9d9"},onClick:()=>He(t.quote),title:"ç‚¹å‡»åœ¨åŸæ–‡ä¸­å®šä½",children:[e.jsx(Qt,{style:{marginRight:4}}),e.jsx("strong",{children:"åŸæ–‡ï¼š"}),t.quote]}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:4},children:[e.jsx("strong",{children:"é£é™©è¯´æ˜ï¼š"}),t.explanation]}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:8},children:[e.jsx("strong",{children:"ä¿®æ”¹å»ºè®®ï¼š"}),t.suggestion]}),t.legal_basis&&e.jsxs("div",{style:{fontSize:"13px",marginBottom:8,background:"#f0f5ff",padding:"6px 8px",borderRadius:"4px"},children:[e.jsx("strong",{style:{color:"#1890ff"},children:"å®¡æŸ¥ä¾æ®ï¼š"}),e.jsx("span",{style:{color:"#666"},children:t.legal_basis})]}),t.entity_risk&&e.jsx(rt,{ghost:!0,style:{marginBottom:8},children:e.jsx(ys,{header:e.jsxs("span",{style:{color:"#ff4d4f",fontWeight:"bold"},children:[e.jsx(be,{style:{marginRight:4}}),"ä¸»ä½“é£é™©è¯¦æƒ… (",t.entity_risk.entity_name,")"]}),children:e.jsxs("div",{style:{padding:"8px 0",fontSize:"13px"},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("strong",{children:"é£é™©ç­‰çº§ï¼š"}),e.jsx(et,{status:t.entity_risk.risk_level==="High"?"error":t.entity_risk.risk_level==="Medium"?"warning":"default",text:t.entity_risk.risk_level})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("strong",{children:"ä¸»ä½“ç±»å‹ï¼š"}),e.jsx("span",{children:t.entity_risk.entity_type})]}),t.entity_risk.risk_items&&t.entity_risk.risk_items.length>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"é£é™©è¯¦æƒ…ï¼š"}),e.jsx("ul",{style:{margin:"8px 0",paddingLeft:20},children:t.entity_risk.risk_items.map((s,n)=>e.jsxs("li",{children:[e.jsx(u,{color:"red",style:{marginBottom:4},children:s.type}),e.jsx("div",{children:s.description}),e.jsx("div",{style:{color:"#999",fontSize:"12px"},children:s.detail})]},n))})]})]})},"entity-risk")}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx(C,{size:"small",type:"primary",onClick:()=>me([t.id]),disabled:Q,children:"é‡‡çº³å¹¶åº”ç”¨"}),e.jsx(C,{size:"small",icon:e.jsx(Ye,{}),onClick:()=>Ct(t),children:"ç¼–è¾‘"})]})]})]})},t.id))]}),Pt=()=>{const t=Ve();return t.length===0?e.jsx(E,{message:"æš‚æ— äº‰è®®ç„¦ç‚¹",description:"æœªå‘ç°æä¸¥é‡æˆ–é«˜é£é™©çš„äº‰è®®ç‚¹",type:"success",showIcon:!0}):e.jsxs("div",{children:[e.jsx(E,{message:`å‘ç° ${t.length} å¤„äº‰è®®ç„¦ç‚¹ï¼ˆæä¸¥é‡æˆ–é«˜é£é™©ï¼‰`,type:"error",showIcon:!0,style:{marginBottom:16}}),t.map(s=>e.jsxs(R,{style:{marginBottom:12,borderLeft:"4px solid #ff4d4f"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx(u,{color:s.severity==="Critical"?"red":"orange",children:s.severity}),e.jsx("strong",{children:s.issue_type})]}),e.jsx("div",{style:{background:"#fff1f0",padding:"8px",borderRadius:"4px",marginBottom:8},children:e.jsxs("div",{style:{fontSize:"13px"},children:[e.jsx("strong",{children:"åŸæ–‡ï¼š"}),s.quote]})}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:4},children:[e.jsx("strong",{children:"é£é™©è¯´æ˜ï¼š"}),s.explanation]}),e.jsxs("div",{style:{fontSize:"13px",color:"#666"},children:[e.jsx("strong",{children:"ä¿®æ”¹å»ºè®®ï¼š"}),s.suggestion]})]},s.id))]})},Ft=()=>{const t=Ge();return t.length===0?e.jsx(E,{message:"åˆåŒæ¡æ¬¾å®Œå¤‡",description:"æœªå‘ç°ç¼ºå¤±çš„é‡è¦æ¡æ¬¾",type:"success",showIcon:!0}):e.jsxs("div",{children:[e.jsx(E,{message:`å‘ç° ${t.length} å¤„ç¼ºå¤±æˆ–éœ€è¦è¡¥å……çš„æ¡æ¬¾`,type:"warning",showIcon:!0,style:{marginBottom:16}}),t.map(s=>e.jsxs(R,{style:{marginBottom:12,borderLeft:"4px solid #faad14"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx(u,{color:"orange",children:"ç¼ºå¤±æ¡æ¬¾"}),e.jsx("strong",{children:s.issue_type})]}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:8},children:[e.jsx("strong",{children:"é£é™©è¯´æ˜ï¼š"}),s.explanation]}),e.jsxs("div",{style:{fontSize:"13px",color:"#666"},children:[e.jsx("strong",{children:"å»ºè®®è¡¥å……ï¼š"}),s.suggestion]})]},s.id))]})},Lt=()=>{const t=Ue();if(t.length===0)return e.jsx(E,{message:"æœªå‘ç°ä¸»ä½“é£é™©",description:"å®¡æŸ¥ç»“æœä¸­æœªæ¶‰åŠä¸»ä½“é£é™©ä¿¡æ¯",type:"success",showIcon:!0});const s={};return t.forEach(n=>{if(n.entity_risk){const l=n.entity_risk.entity_name;s[l]||(s[l]=[]),s[l].push(n)}}),e.jsxs("div",{children:[e.jsx(E,{message:`å‘ç° ${Object.keys(s).length} ä¸ªä¸»ä½“å­˜åœ¨é£é™©`,type:"warning",showIcon:!0,style:{marginBottom:16}}),Object.entries(s).map(([n,l])=>e.jsxs(R,{style:{marginBottom:16},title:e.jsxs("span",{style:{color:"#ff4d4f"},children:[e.jsx(_e,{style:{marginRight:8}}),n]}),children:[l[0].entity_risk&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("strong",{children:"ä¸»ä½“ç±»å‹ï¼š"}),e.jsx(u,{children:l[0].entity_risk.entity_type})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"é£é™©ç­‰çº§ï¼š"}),e.jsx(et,{status:l[0].entity_risk.risk_level==="High"?"error":"warning",text:l[0].entity_risk.risk_level})]})]}),e.jsx("div",{style:{fontWeight:"bold",marginBottom:8},children:"ç›¸å…³é£é™©ç‚¹ï¼š"}),l.map(j=>e.jsxs("div",{style:{padding:"8px 12px",background:"#f5f5f5",borderRadius:"4px",marginBottom:8,cursor:"pointer"},onClick:()=>{Fe("suggestions"),setTimeout(()=>He(j.quote),100)},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(u,{color:j.severity==="Critical"?"red":j.severity==="High"?"orange":"blue",children:j.severity}),e.jsx("span",{children:j.issue_type})]}),e.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:4},children:j.explanation})]},j.id))]},n))]})},Dt=()=>e.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"ğŸ”„"}),e.jsx("h3",{children:"é‡æ–°å®¡æŸ¥"}),e.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"å¦‚æœä¿®æ”¹äº†åˆåŒå†…å®¹æˆ–è°ƒæ•´äº†å®¡æŸ¥å‚æ•°ï¼Œå¯ä»¥é‡æ–°å¯åŠ¨å®¡æŸ¥"}),e.jsxs(we,{children:[e.jsx(C,{type:"primary",onClick:De,children:"é‡æ–°å®¡æŸ¥"}),e.jsx(C,{onClick:()=>{m("metadata")},children:"è°ƒæ•´å®¡æŸ¥å‚æ•°"})]})]});return e.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(Zt,{currentModuleKey:"contract-review"}),e.jsxs("div",{className:"review-container",children:[e.jsx("div",{className:"editor-area",children:(function(){return console.log("ğŸ” æ¸²æŸ“æ£€æŸ¥ - showUploadProgress:",J,"uploadProgressRef.current:",b.current,"editorConfig:",!!$,"metadataExtracted:",re),J||b.current})()?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px",textAlign:"center",background:"#f5f5f5"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"ğŸ“¤"}),e.jsx("h3",{style:{marginBottom:"16px"},children:"æ–‡ä»¶å·²ä¸Šä¼ ï¼"}),e.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"æ­£åœ¨è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œè¯·ç¨å€™..."}),e.jsxs("div",{style:{padding:"16px 24px",background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",maxWidth:"400px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.jsx("div",{className:"ant-spin ant-spin-spinning",style:{display:"inline-block"},children:e.jsxs("span",{className:"ant-spin-dot ant-spin-dot-spin",children:[e.jsx("i",{}),e.jsx("i",{}),e.jsx("i",{}),e.jsx("i",{})]})}),e.jsx("strong",{children:"æ­£åœ¨åå°å¤„ç†ï¼š"})]}),e.jsxs("div",{style:{textAlign:"left",fontSize:"14px",marginLeft:"24px"},children:[e.jsx("div",{children:"âœ“ æ–‡ä»¶å·²ä¸Šä¼ "}),e.jsx("div",{style:{opacity:.7},children:"âŸ³ æ ¼å¼è½¬æ¢ä¸­..."}),e.jsx("div",{style:{opacity:.5},children:"â—‹ ç”Ÿæˆé¢„è§ˆ..."})]})]}),e.jsx("div",{style:{marginTop:"20px",fontSize:"12px",color:"#999"},children:"é¢„è®¡å¤„ç†æ—¶é—´ï¼š10-30ç§’ï¼ˆæ ¹æ®æ–‡ä»¶å¤§å°ï¼‰"})]}):$&&re?e.jsx(Yt,{id:"docxEditor",documentServerUrl:"http://localhost:9000",config:$,events_onDocumentReady:Tt,height:"100%",width:"100%"}):$?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"ğŸ“„"}),e.jsx("h3",{style:{marginBottom:"16px"},children:"æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"}),e.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"æ­£åœ¨æå–åˆåŒå…ƒæ•°æ®ï¼Œè¯·ç¨å€™..."}),e.jsxs("div",{style:{padding:"16px 24px",background:"#e6f7ff",border:"1px solid #91d5ff",borderRadius:"4px",color:"#1890ff",maxWidth:"400px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("div",{className:"ant-spin ant-spin-spinning",style:{display:"inline-block"},children:e.jsxs("span",{className:"ant-spin-dot ant-spin-dot-spin",children:[e.jsx("i",{}),e.jsx("i",{}),e.jsx("i",{}),e.jsx("i",{})]})}),e.jsx("strong",{children:"æ­£åœ¨åå°å¤„ç†ï¼š"})]}),e.jsxs("div",{style:{textAlign:"left",fontSize:"14px",marginLeft:"24px"},children:[e.jsx("div",{children:"âœ“ æ–‡ä»¶å·²ä¸Šä¼ "}),e.jsx("div",{style:{opacity:.7},children:"âŸ³ æ ¼å¼è½¬æ¢ä¸­..."}),e.jsx("div",{style:{opacity:.5},children:"â—‹ ç”Ÿæˆé¢„è§ˆ..."})]})]}),e.jsx("p",{style:{fontSize:"12px",color:"#999",marginTop:"16px"},children:"é¢„è®¡éœ€è¦ 10-30 ç§’ï¼Œå¤„ç†å®Œæˆåå°†è‡ªåŠ¨æ˜¾ç¤ºç¼–è¾‘å™¨"})]}):e.jsxs("div",{className:"upload-placeholder",children:[e.jsxs("label",{style:{cursor:"pointer",color:"#1890ff",fontSize:"18px"},children:["ç‚¹å‡»ä¸Šä¼ åˆåŒæ–‡ä»¶",e.jsx("br",{}),e.jsxs("span",{style:{fontSize:"14px",color:"#999"},children:["æ”¯æŒæ ¼å¼ï¼šæ–‡æ¡£ (.doc/.docx/.pdf/.txt/.rtf/.odt)",e.jsx("br",{}),"æ”¯æŒæ ¼å¼ï¼šå›¾ç‰‡ (.jpg/.png/.bmp/.tiff/.gif) - OCR è¯†åˆ«",e.jsx("br",{}),"é .docx æ ¼å¼å°†è‡ªåŠ¨è½¬æ¢ä¸º Word æ ¼å¼"]}),e.jsx("input",{type:"file",accept:".doc,.docx,.pdf,.txt,.rtf,.odt,.jpg,.jpeg,.png,.bmp,.tiff,.gif",onChange:_t,style:{display:"none"}})]}),N&&e.jsx("div",{className:"spin",children:"ä¸Šä¼ å¤„ç†ä¸­..."})]})}),e.jsxs("div",{className:"ai-sidebar",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx("h3",{style:{margin:0},children:"âš–ï¸ æ™ºèƒ½åˆåŒå®¡æŸ¥ï¼ˆå‡çº§ç‰ˆï¼‰"}),e.jsx(C,{type:"link",icon:e.jsx(Xe,{}),onClick:()=>k("/contract/review-history"),style:{padding:0},children:"å†å²ä»»åŠ¡"})]}),e.jsx(es,{moduleName:"contract_review",moduleLabel:"åˆåŒå®¡æŸ¥"}),e.jsx(R,{title:e.jsxs("span",{children:[e.jsx(Vt,{style:{marginRight:8}}),"è‡ªå®šä¹‰å®¡æŸ¥è§„åˆ™"]}),size:"small",style:{marginBottom:16},extra:e.jsx(C,{size:"small",icon:e.jsx(Je,{}),onClick:()=>Ee(!0),children:"ç®¡ç†è§„åˆ™"}),children:e.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[e.jsxs("div",{children:["å·²åˆ›å»º ",ze," æ¡è‡ªå®šä¹‰è§„åˆ™"]}),ze>0&&e.jsx("div",{style:{marginTop:4},children:e.jsx(te,{checked:$e,onChange:t=>lt(t.target.checked),children:"æœ¬æ¬¡å®¡æŸ¥å¯ç”¨"})})]})}),U==="metadata"&&e.jsxs(R,{title:"è¯·ç¡®è®¤åˆåŒåŸºæœ¬ä¿¡æ¯",style:{marginBottom:16},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("strong",{children:"å®¡æŸ¥ç«‹åœºï¼š"}),e.jsxs(ve,{value:Te,onChange:t=>Be(t),style:{width:120},children:[e.jsx(ve.Option,{value:"ç”²æ–¹",children:"ç”²æ–¹"}),e.jsx(ve.Option,{value:"ä¹™æ–¹",children:"ä¹™æ–¹"})]})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("strong",{children:"åˆåŒç±»å‹ï¼š"}),e.jsx(H,{value:f.contract_type||"",onChange:t=>L({...f,contract_type:t.target.value}),placeholder:"å¦‚ï¼šæœåŠ¡åˆåŒ",disabled:!0})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("strong",{children:"åˆåŒåç§°ï¼š"}),e.jsx(H,{value:f.contract_name||"",onChange:t=>L({...f,contract_name:t.target.value}),placeholder:"å¦‚ï¼šæŠ€æœ¯æœåŠ¡åˆåŒ"})]}),e.jsxs("div",{style:{margin:"8px 0"},children:[e.jsx("strong",{children:"å½“äº‹äººï¼š"}),G(f.parties).map((t,s)=>e.jsxs("div",{className:"party-row",style:{display:"flex",gap:8,marginTop:8},children:[e.jsx(H,{value:t,onChange:n=>Et(s,n.target.value),placeholder:`å½“äº‹äºº ${s+1}`,style:{flex:1}}),G(f.parties).length>1&&e.jsx(C,{danger:!0,type:"text",onClick:()=>At(s),icon:e.jsx(st,{}),children:"åˆ é™¤"})]},s)),e.jsx("div",{style:{marginTop:8},children:e.jsx(C,{type:"dashed",onClick:zt,icon:e.jsx(Qe,{}),children:"æ·»åŠ å½“äº‹äºº"})})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"åˆåŒé‡‘é¢ï¼š"}),e.jsx(H,{value:f.amount||"",onChange:t=>L({...f,amount:t.target.value})})]}),f.legal_features?.transaction_structures&&f.legal_features.transaction_structures.length>0&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsxs("strong",{children:[e.jsx(Je,{style:{marginRight:4}}),"ç¡®è®¤æœ¬æ¬¡äº¤æ˜“ç»“æ„ (å¯å¤šé€‰)"]}),e.jsx(u,{color:"blue",children:"AIå»ºè®®"})]}),e.jsx(te.Group,{style:{width:"100%"},value:oe,onChange:t=>ft(t),children:e.jsx(we,{direction:"vertical",style:{width:"100%"},children:f.legal_features.transaction_structures.map(t=>e.jsx(te,{value:t,children:t},t))})}),e.jsx("div",{style:{marginTop:8,fontSize:"12px",color:"#999"},children:"ğŸ’¡ æç¤ºï¼šé€‰æ‹©äº¤æ˜“ç»“æ„åï¼Œç³»ç»Ÿå°†åŠ è½½å¯¹åº”çš„ä¸“é¡¹å®¡æŸ¥è§„åˆ™"})]}),ce&&e.jsx(E,{message:"æ­£åœ¨æå–åˆåŒä¿¡æ¯...",description:"AI æ­£åœ¨åˆ†æåˆåŒå†…å®¹ï¼Œæå–å½“äº‹äººã€é‡‘é¢ã€ç±»å‹ç­‰å…³é”®ä¿¡æ¯ï¼Œè¯·ç¨å€™...",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx(C,{type:"primary",onClick:De,loading:N,disabled:ce||!re,style:{width:"100%"},children:ce?"æ­£åœ¨æå–åˆåŒä¿¡æ¯...":re?"å¼€å§‹æ·±åº¦å®¡æŸ¥":"ç­‰å¾…åˆåŒä¿¡æ¯æå–..."})]}),U==="reviewing"&&e.jsx(R,{children:e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[e.jsx(Gt,{size:"large"}),e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h3",{style:{marginBottom:"16px"},children:"AI æ­£åœ¨æ·±åº¦åˆ†æåˆåŒ..."}),Le?e.jsx("div",{style:{padding:"16px 24px",background:"#e6f7ff",border:"1px solid #91d5ff",borderRadius:"8px",color:"#1890ff",fontSize:"16px",fontWeight:500,maxWidth:"500px",margin:"0 auto"},children:Le}):e.jsx("p",{style:{color:"#666"},children:"è¯·è€å¿ƒç­‰å¾…ï¼ˆé€šå¸¸éœ€è¦ 10-30 ç§’ï¼‰"})]}),e.jsx("div",{style:{marginTop:"24px",fontSize:"14px",color:"#999"},children:"æ­£åœ¨æ‰§è¡Œï¼šè§„åˆ™åŠ è½½ â†’ æ¡æ¬¾åˆ†æ â†’ é£é™©è¯†åˆ« â†’ æŠ¥å‘Šç”Ÿæˆ"})]})}),U==="results"&&e.jsxs("div",{className:"review-results-container",children:[e.jsx(ms,{contractId:_}),e.jsx(R,{style:{marginTop:16},children:e.jsx(qt,{activeKey:yt,onChange:Fe,type:"card",size:"large",items:[{key:"overview",label:e.jsxs("span",{children:[e.jsx(Kt,{}),"ç»¼åˆè¯„ä¼°"]}),children:Mt()},{key:"suggestions",label:e.jsxs("span",{children:[e.jsx(Ye,{}),"ä¿®æ”¹æ„è§",e.jsx(u,{color:"blue",style:{marginLeft:4},children:v.length})]}),children:Ot()},{key:"controversy",label:e.jsxs("span",{children:[e.jsx(fs,{}),"äº‰è®®ç„¦ç‚¹",e.jsx(u,{color:"red",style:{marginLeft:4},children:Ve().length})]}),children:Pt()},{key:"missing",label:e.jsxs("span",{children:[e.jsx(ds,{}),"ç¼ºå¤±æ¡æ¬¾",e.jsx(u,{color:"orange",style:{marginLeft:4},children:Ge().length})]}),children:Ft()},{key:"entity",label:e.jsxs("span",{children:[e.jsx(_e,{}),"ä¸»ä½“é£é™©",e.jsx(u,{color:"cyan",style:{marginLeft:4},children:Ue().length})]}),children:Lt()},{key:"re-review",label:e.jsxs("span",{children:[e.jsx(Xe,{}),"é‡å®¡"]}),children:Dt()}]})})]})]}),e.jsx(Se,{title:"ç¼–è¾‘å®¡æŸ¥æ„è§",open:pt,onOk:St,onCancel:()=>fe(!1),width:600,okText:"ä¿å­˜",cancelText:"å–æ¶ˆ",children:D&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"é—®é¢˜ç±»å‹ï¼š"}),e.jsx(u,{color:D.severity==="Critical"?"red":D.severity==="High"?"orange":"blue",children:D.issue_type})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"åŸæ–‡ï¼š"}),e.jsx("div",{style:{background:"#f5f5f5",padding:"8px",borderRadius:"4px",marginTop:4},children:D.quote})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"é£é™©è¯´æ˜ï¼š"}),e.jsx(ke,{value:pe,onChange:t=>Ae(t.target.value),rows:3,placeholder:"è¯·è¾“å…¥é£é™©è¯´æ˜"})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"ä¿®æ”¹å»ºè®®ï¼š"}),e.jsx(ke,{value:he,onChange:t=>Me(t.target.value),rows:3,placeholder:"è¯·è¾“å…¥ä¿®æ”¹å»ºè®®"})]})]})}),e.jsxs(Se,{title:"è‡ªå®šä¹‰å®¡æŸ¥è§„åˆ™ç®¡ç†",open:ct,onCancel:()=>Ee(!1),footer:null,width:800,children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(C,{type:"primary",icon:e.jsx(Qe,{}),onClick:()=>{ue.resetFields(),ue.setFieldsValue({is_active:!0,priority:0}),ge(!0)},style:{marginRight:8},children:"æ–°å»ºè§„åˆ™"}),e.jsx(C,{onClick:Y,children:"åˆ·æ–°"})]}),e.jsx(rs,{dataSource:gt,rowKey:"id",pagination:!1,size:"small",columns:[{title:"åç§°",dataIndex:"name",key:"name",ellipsis:!0},{title:"æè¿°",dataIndex:"description",key:"description",ellipsis:!0},{title:"ä¼˜å…ˆçº§",dataIndex:"priority",key:"priority",width:70},{title:"çŠ¶æ€",dataIndex:"is_active",key:"is_active",width:70,render:t=>t?e.jsx(u,{color:"success",icon:e.jsx(Ze,{}),children:"å¯ç”¨"}):e.jsx(u,{color:"default",icon:e.jsx(os,{}),children:"ç¦ç”¨"})},{title:"æ“ä½œ",key:"actions",width:150,render:(t,s)=>e.jsxs(we,{size:"small",children:[e.jsx(C,{type:"text",size:"small",onClick:()=>wt(s.id),children:s.is_active?"ç¦ç”¨":"å¯ç”¨"}),e.jsx(is,{title:"ç¡®å®šåˆ é™¤æ­¤è§„åˆ™å—ï¼Ÿ",onConfirm:()=>vt(s.id),okText:"ç¡®å®š",cancelText:"å–æ¶ˆ",children:e.jsx(C,{type:"text",size:"small",danger:!0,icon:e.jsx(st,{}),children:"åˆ é™¤"})})]})}]})]}),e.jsx(Se,{title:"åˆ›å»ºè‡ªå®šä¹‰è§„åˆ™",open:dt,onCancel:()=>ge(!1),footer:null,width:600,children:e.jsxs(V,{form:ue,layout:"vertical",onFinish:jt,children:[e.jsx(V.Item,{label:"è§„åˆ™åç§°",name:"name",rules:[{required:!0,message:"è¯·è¾“å…¥è§„åˆ™åç§°"}],children:e.jsx(H,{placeholder:"å¦‚ï¼šä»·æ ¼åˆç†æ€§å®¡æŸ¥"})}),e.jsx(V.Item,{label:"è§„åˆ™æè¿°",name:"description",children:e.jsx(H,{placeholder:"ç®€è¦æè¿°æ­¤è§„åˆ™çš„ç”¨é€”"})}),e.jsx(V.Item,{label:"è§„åˆ™å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥è§„åˆ™å†…å®¹"}],tooltip:"è¯¦ç»†çš„å®¡æŸ¥è§„åˆ™è¯´æ˜ï¼Œå°†ç”¨äº AI å®¡æŸ¥æç¤º",children:e.jsx(ke,{rows:6,placeholder:"è¯·è¾“å…¥è¯¦ç»†çš„å®¡æŸ¥è§„åˆ™å†…å®¹ï¼ŒåŒ…æ‹¬å®¡æŸ¥è¦ç‚¹ã€åˆ¤æ–­æ ‡å‡†ç­‰..."})}),e.jsx(V.Item,{label:"ä¼˜å…ˆçº§",name:"priority",tooltip:"æ•°å­—è¶Šå°è¶Šä¼˜å…ˆ",children:e.jsx(H,{type:"number",min:0,max:100,style:{width:"100%"}})}),e.jsx(V.Item,{children:e.jsx(C,{type:"primary",htmlType:"submit",block:!0,children:"åˆ›å»ºè§„åˆ™"})})]})})]})]})};export{Ks as default};
