import{r as i,z as h,_ as p,bn as M,j as e,S as u,T as v,x as N,u as y,ax as r,bo as D,bp as _,be as b,bj as F,bq as A,B as m,R as q,f as k,k as R,n as I,t as S,aA as $}from"./index-sxRqSD8J.js";import{R as U}from"./ArrowLeftOutlined-d8neHjqY.js";import{R as z,a as C}from"./DiffOutlined-Di0wPK4-.js";var W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"},G=function(n,a){return i.createElement(h,p({},n,{ref:a,icon:W}))},J=i.forwardRef(G),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},Q=function(n,a){return i.createElement(h,p({},n,{ref:a,icon:P}))},X=i.forwardRef(Q),Y={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"},Z=function(n,a){return i.createElement(h,p({},n,{ref:a,icon:Y}))},w=i.forwardRef(Z);const{Text:K}=v,ee=()=>{const{sessionStartTime:t}=M(),[n,a]=i.useState("00:00:00");return i.useEffect(()=>{if(!t)return;const c=setInterval(()=>{const l=Date.now(),o=Math.floor((l-t)/1e3),d=Math.floor(o/3600),f=Math.floor(o%3600/60),x=o%60;a(`${String(d).padStart(2,"0")}:${String(f).padStart(2,"0")}:${String(x).padStart(2,"0")}`)},1e3);return()=>clearInterval(c)},[t]),t?e.jsxs(u,{style:{marginRight:16},children:[e.jsx(J,{style:{color:"#1890ff"}}),e.jsx(K,{style:{fontSize:14,fontWeight:500},children:n})]}):null},{Text:j}=v,te=()=>{const{user:t,logout:n}=N(),a=y(),c=[{key:"profile",label:"个人中心",icon:e.jsx(r,{})},...t?.is_admin?[{key:"admin",label:"系统管理后台",icon:e.jsx(D,{}),onClick:()=>a("/admin")}]:[],{type:"divider"},{key:"logout",label:"退出登录",icon:e.jsx(_,{}),onClick:n,danger:!0}];return e.jsx(b,{menu:{items:c},placement:"bottomRight",trigger:["click"],children:e.jsxs("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",gap:"8px"},children:[e.jsx(F,{style:{backgroundColor:"#1890ff"},icon:e.jsx(r,{})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",lineHeight:"1.2"},children:[e.jsx(j,{strong:!0,style:{fontSize:"14px"},children:t?.email?t.email.split("@")[0]:"用户"}),e.jsx(j,{type:"secondary",style:{fontSize:"10px"},children:t?.is_admin?"管理员":"普通用户"})]}),e.jsx(A,{style:{fontSize:"10px",color:"#bfbfbf"}})]})})},se={consultation:{title:"智能咨询",icon:e.jsx(r,{})},"risk-analysis":{title:"风险评估",icon:e.jsx(w,{})},"case-analysis":{title:"案件分析",icon:e.jsx(C,{})},"contract-generation":{title:"合同生成",icon:e.jsx($,{})},"contract-review":{title:"合同审查",icon:e.jsx(z,{})},"template-search":{title:"模板查询",icon:e.jsx(S,{})},"document-processing":{title:"文档处理",icon:e.jsx(I,{})},"document-drafting":{title:"文书起草",icon:e.jsx(R,{})},"cost-calculation":{title:"费用测算",icon:e.jsx(k,{})}},ce=({currentModuleKey:t,title:n,icon:a,onBack:c,backTo:l,showQuickNav:o=!0,showWorkbench:d=!0,showClock:f=!1,showUserInfo:x=!0,extra:H,style:E})=>{const s=y(),g=se[t],O=n||g?.title||"",T=a||g?.icon,L=[{type:"divider"},{key:"consultation",label:"智能咨询",icon:e.jsx(r,{}),onClick:()=>s("/consultation")},{key:"risk-analysis",label:"风险评估",icon:e.jsx(w,{}),disabled:t==="risk-analysis",onClick:()=>s("/risk-analysis")},{key:"case-analysis",label:"案件分析",icon:e.jsx(C,{}),disabled:t==="case-analysis",onClick:()=>s("/litigation-analysis")},{type:"divider"},{key:"contract-generation",label:"合同生成",icon:e.jsx($,{}),disabled:t==="contract-generation",onClick:()=>s("/contract/generate")},{key:"contract-review",label:"合同审查",icon:e.jsx(z,{}),disabled:t==="contract-review",onClick:()=>s("/contract/review")},{key:"template-search",label:"模板查询",icon:e.jsx(S,{}),disabled:t==="template-search",onClick:()=>s("/contract")},{type:"divider"},{key:"document-processing",label:"文档处理",icon:e.jsx(I,{}),disabled:t==="document-processing",onClick:()=>s("/document-processing")},{key:"document-drafting",label:"文书起草",icon:e.jsx(R,{}),disabled:t==="document-drafting",onClick:()=>s("/document-drafting")},{key:"cost-calculation",label:"费用测算",icon:e.jsx(k,{}),disabled:t==="cost-calculation",onClick:()=>s("/cost-calculation")}],V=()=>{c?c():s(l||-1)},B=()=>{s("/")};return e.jsxs("div",{className:"enhanced-module-navbar",style:E,children:[e.jsxs(u,{size:"middle",children:[d&&e.jsx(m,{type:"text",icon:e.jsx(X,{}),onClick:B,children:"工作台"}),e.jsx(m,{type:"text",icon:e.jsx(U,{}),onClick:V,children:"返回"}),e.jsxs("div",{className:"navbar-title",children:[q.cloneElement(T,{style:{color:"#1890ff"}}),e.jsx("span",{children:O})]})]}),f&&e.jsx(ee,{}),e.jsxs(u,{size:"middle",children:[H,o&&e.jsx(b,{menu:{items:L},trigger:["click"],placement:"bottomLeft",children:e.jsx(m,{type:"default",children:"快捷导航"})}),x&&e.jsx(te,{})]})]})};export{ce as E,w as R};
