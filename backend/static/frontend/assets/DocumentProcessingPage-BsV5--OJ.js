import{r as n,z as ue,_ as me,u as $e,j as e,d as x,aD as Y,S as h,T as Oe,i as P,az as Ee,H as Be,B as d,G as de,k as L,c as _e,C as W,I as Me,e as pe,y as Z,s as l,b as Ne,aE as v,h as Ae}from"./index-7T25hRnl.js";import{o as Le}from"./index-C56rNddX.js";import{E as We}from"./EnhancedModuleNavBar-CEW55FzO.js";import{u as Ge}from"./useSessionPersistence-ChNy_7iz.js";import{A as G,R as Xe}from"./DownloadOutlined-3LjHRHuZ.js";import{U as He}from"./index-Cn333nvA.js";import{R as z}from"./UploadOutlined-CD3BBQem.js";import{P as xe}from"./progress-BFvY0J03.js";import{R as X}from"./CheckCircleOutlined-DhhXUuLD.js";import{R as Ve}from"./DeleteOutlined-Bc5d-nRr.js";import{D as C}from"./index-CxNe3LSK.js";import{D as c}from"./index-CCRVD0dr.js";import{R as u}from"./index-CeAS_E37.js";import{R as ee,a as te}from"./FileWordOutlined-Cvhz8wKN.js";import{R as he}from"./DiffOutlined-BWhhxZJu.js";import{M as qe}from"./index-CNC-4PM3.js";import"./ArrowLeftOutlined-C0dkYYT0.js";import"./PaperClipOutlined-DFi3U0Pa.js";import"./useBubbleLock-rdPKXBE_.js";var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},Je=function(w,D){return n.createElement(ue,me({},w,{ref:D,icon:Ke}))},Qe=n.forwardRef(Je),Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 472a40 40 0 1080 0 40 40 0 10-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 01-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"}}]},name:"experiment",theme:"outlined"},Ze=function(w,D){return n.createElement(ue,me({},w,{ref:D,icon:Ye}))},et=n.forwardRef(Ze);const{Title:tt,Text:a,Paragraph:bt}=Oe,{Dragger:H}=He,{TextArea:st}=Me,{Option:Ct}=Ae,St=()=>{$e();const[k,w]=n.useState("preprocess"),{hasSession:D,saveSession:je,clearSession:fe,isLoading:ge}=Ge("document_processing_session",{expirationTime:7200*1e3,onRestore:(t,s)=>{console.log("[文档处理] 恢复会话:",s),w(s.activeTab||"preprocess"),S(s.convertedFiles||[]),U(s.editingMode||"text"),$(s.aiContent||""),V(s.documentType||"contract"),E(s.outputFormat||"docx"),B(s.generatedDoc||null),N(s.compareFile1||null),A(s.compareFile2||null),l.success("已恢复之前的文档处理会话")}}),ye=()=>{je(Date.now().toString(),{activeTab:k,convertedFiles:I,editingMode:i,aiContent:b,documentType:O,outputFormat:m,generatedDoc:p,compareFile1:j,compareFile2:f})},[I,S]=n.useState([]),[i,U]=n.useState("text"),[b,$]=n.useState(""),[F,se]=n.useState(null),[O,V]=n.useState("contract"),[m,E]=n.useState("docx"),[p,B]=n.useState(null),[q,ne]=n.useState(!1),[ve,R]=n.useState(!1),[oe,re]=n.useState(""),[K,M]=n.useState(null),[j,N]=n.useState(null),[f,A]=n.useState(null),[we,nt]=n.useState(null),[be,ae]=n.useState(!1);n.useEffect(()=>{(I.length>0||b||p||j||f)&&ye()},[k,I,i,b,O,m,p,j,f]);const Ce=async t=>{const{file:s,onSuccess:o,onError:r}=t,_=new FormData;_.append("file",s);const J={uid:s.name+Date.now(),name:s.name,originalFormat:s.name.split(".").pop()||"",outputFormat:"docx",status:"uploading",progress:0};S(g=>[...g,J]);try{const g=await fetch(`${v()}/api/v1/preprocessor/convert`,{method:"POST",body:_});if(!g.ok)throw new Error("转换失败");const y=await g.json(),T=y.output_filename||y.output_path?.split("/")?.pop(),ze=`${v()}/storage/uploads/${T}`;S(Ue=>Ue.map(Q=>Q.uid===J.uid?{...Q,status:"success",progress:100,outputPath:y.output_path,downloadUrl:y.download_url,previewUrl:ze,metadata:y.metadata}:Q)),l.success(`${s.name} 转换成功！`),o?.(y)}catch(g){S(y=>y.map(T=>T.uid===J.uid?{...T,status:"error",error:g instanceof Error?g.message:"转换失败"}:T)),l.error(`${s.name} 转换失败`),r?.(g)}},Se=async t=>{try{const s=t.outputPath?.split("/").pop()||t.name,o=await fetch(`${v()}/api/v1/document/preview/by-filename/${s}`);if(!o.ok){t.previewUrl?(re(t.previewUrl),M(null),R(!0)):l.warning("预览不可用");return}const r=await o.json();M(r),R(!0)}catch{t.previewUrl?(re(t.previewUrl),M(null),R(!0)):l.warning("预览不可用")}},ke=t=>{t.downloadUrl&&window.open(`${v()}${t.downloadUrl}`,"_blank")},De=t=>{S(s=>s.filter(o=>o.uid!==t))},Ie=async t=>{const{file:s}=t;se(s),l.success("文件上传成功")},le=async()=>{const t=b.trim().length>0,s=F!==null;if(!t&&!s){l.warning("请输入文本内容或上传文件");return}ne(!0);try{if(i==="text"&&t){const o=await fetch(`${v()}/api/v1/document/generate-from-content`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:b,output_format:m,filename:`generated_${Date.now()}.${m}`})});if(!o.ok)throw new Error("文档生成失败");const r=await o.json();B({contractId:r.contract_id,filename:r.filename,docxPath:r.docx_path,pdfPath:r.pdf_path,previewUrl:r.preview_url,downloadDocxUrl:r.download_docx_url,downloadPdfUrl:r.download_pdf_url,status:r.status,config:r.config,token:r.token}),l.success("文档生成成功！")}else if(i==="file"&&s){const o=new FormData;o.append("file",F),o.append("output_format",m),o.append("document_type",O);const r=await fetch(`${v()}/api/v1/document/process-file-to-standard`,{method:"POST",body:o});if(!r.ok)throw new Error("文件处理失败");const _=await r.json();B({contractId:_.contract_id,filename:_.filename,docxPath:_.docx_path,pdfPath:_.pdf_path,previewUrl:_.preview_url,downloadDocxUrl:_.download_docx_url,downloadPdfUrl:_.download_pdf_url,status:_.status,config:_.config,token:_.token}),l.success("文件处理成功！")}}catch(o){l.error(i==="text"?"文档生成失败":"文件处理失败"),console.error(o)}finally{ne(!1)}},Fe=async()=>{if(p)try{const t=await fetch(`${v()}${p.previewUrl}`);if(!t.ok){l.warning("获取预览配置失败");return}const s=await t.json();M(s),R(!0)}catch{l.error("预览功能暂时不可用")}},ie=t=>{if(!p)return;const s=t==="docx"?p.downloadDocxUrl:p.downloadPdfUrl;s&&window.open(`${v()}${s}`,"_blank")},ce=t=>async s=>{const{file:o}=s,r={id:Date.now().toString(),name:o.name,file:o};t===1?N(r):A(r),l.success(`文件 ${o.name} 上传成功`)},Re=async()=>{if(!j?.file||!f?.file){l.warning("请先上传两份文件");return}ae(!0);try{const t=new FormData;t.append("file1",j.file),t.append("file2",f.file),l.info("文件比对功能正在开发中")}catch{l.error("比对失败")}finally{ae(!1)}},Te=`# 销售合同

**合同编号：** SALE-2024-001

## 甲方（卖方）
- 名称：_____________________
- 地址：_____________________
- 联系人：___________________
- 电话：_____________________

## 乙方（买方）
- 名称：_____________________
- 地址：_____________________
- 联系人：___________________
- 电话：_____________________

## 第一条 标的物
1.1 产品名称：_________________
1.2 规格型号：_________________
1.3 数量：_____________________
1.4 单价：_____________________
1.5 总价：_____________________

## 第二条 交货
2.1 交货时间：_________________
2.2 交货地点：_________________

## 第三条 付款方式
3.1 乙方应于合同签署后___日内支付合同总额的___%作为预付款。
3.2 余款应在收到货物并验收合格后___日内付清。

## 第四条 违约责任
4.1 甲方未按期交货的，每逾期一日，应向乙方支付合同总额___%的违约金。
4.2 乙方未按期付款的，每逾期一日，应向甲方支付应付款项___%的违约金。

## 第五条 争议解决
本合同履行过程中发生的争议，双方应友好协商解决；协商不成的，提交甲方所在地人民法院诉讼解决。

## 签署
甲方（盖章）：_________________  乙方（盖章）：_________________
代表签字：___________________  代表签字：___________________
日期：____年__月__日          日期：____年__月__日`,Pe=[{key:"preprocess",label:e.jsxs("span",{children:[e.jsx(Qe,{}),"文档预处理"]}),children:e.jsxs("div",{className:"preprocess-tab",children:[e.jsx(G,{message:"文档预处理功能",description:"将 PDF、DOC、TXT 等非 Word 格式文件统一转换为可编辑的 Word (.docx) 格式。转换过程中会自动处理页码、空格、换行等格式问题。支持在线预览转换后的文档。",type:"info",showIcon:!0,style:{marginBottom:24}}),e.jsx(x,{title:"文件上传",style:{marginBottom:24},children:e.jsxs(H,{accept:".pdf,.doc,.docx,.txt,.rtf,.odt",multiple:!0,customRequest:Ce,showUploadList:!1,children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(z,{style:{fontSize:48,color:"#1890ff"}})}),e.jsx("p",{className:"ant-upload-text",children:"点击或拖拽文件到此区域上传"}),e.jsxs("p",{className:"ant-upload-hint",children:["支持格式：PDF、DOC、DOCX、TXT、RTF、ODT",e.jsx("br",{}),"支持批量上传，自动转换为 Word 格式"]})]})}),I.length>0&&e.jsx(x,{title:"转换结果",children:e.jsx(Y,{dataSource:I,renderItem:t=>e.jsx(Y.Item,{actions:[t.status==="success"&&e.jsx(d,{type:"link",icon:e.jsx(de,{}),onClick:()=>Se(t),children:"预览"}),t.status==="success"&&e.jsx(d,{type:"link",icon:e.jsx(Xe,{}),onClick:()=>ke(t),children:"下载"}),e.jsx(d,{type:"link",danger:!0,icon:e.jsx(Ve,{}),onClick:()=>De(t.uid),children:"删除"})],children:e.jsx(Y.Item.Meta,{avatar:t.status==="success"?e.jsx(X,{style:{fontSize:24,color:"#52c41a"}}):t.status==="error"?e.jsx(Ee,{style:{fontSize:24,color:"#ff4d4f"}}):e.jsx(Be,{style:{fontSize:24,color:"#1890ff"}}),title:e.jsxs(h,{children:[e.jsx(a,{strong:!0,children:t.name}),e.jsx(P,{color:t.status==="success"?"success":t.status==="error"?"error":"processing",children:t.status==="success"?"转换成功":t.status==="error"?"转换失败":"处理中"})]}),description:e.jsxs(h,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(a,{type:"secondary",children:[t.originalFormat.toUpperCase()," → ",t.outputFormat.toUpperCase()]}),t.status==="converting"&&e.jsx(xe,{percent:t.progress,size:"small"}),t.metadata&&e.jsxs(a,{type:"secondary",children:["页数: ",t.metadata.pages," | 字数: ",t.metadata.words?.toLocaleString()," | 段落数: ",t.metadata.paragraphs]}),t.error&&e.jsx(a,{type:"danger",children:t.error})]})})})})}),e.jsx(C,{orientation:"left",children:"功能说明"}),e.jsxs(c,{bordered:!0,column:2,size:"small",children:[e.jsxs(c.Item,{label:"AI 辅助处理",span:2,children:[e.jsx(P,{color:"blue",children:"已启用"})," 使用 Qwen3-VL 模型智能识别页码、段落边界"]}),e.jsx(c.Item,{label:"页码处理",children:"自动识别并删除页眉页脚中的页码"}),e.jsx(c.Item,{label:"格式调整",children:"智能处理不正常的空格和换行"}),e.jsx(c.Item,{label:"段落合并",children:"识别被错误分割的段落并自动合并"}),e.jsx(c.Item,{label:"文档预览",children:"支持在线预览转换后的 Word 文档"}),e.jsx(c.Item,{label:"支持格式",children:"PDF、DOC、DOCX、TXT、RTF、ODT"})]})]})},{key:"editing",label:e.jsxs("span",{children:[e.jsx(Z,{}),"文档智能编辑"]}),children:e.jsxs("div",{className:"editing-tab",children:[e.jsx(G,{message:"文档智能编辑功能",description:"支持两种方式：1) 将 AI 生成的内容转换为可直接使用的 Word/PDF 文档；2) 将不规范的 Word 文件处理成标准的合同或函件格式。",type:"info",showIcon:!0,style:{marginBottom:24}}),e.jsx(x,{title:"选择编辑模式",style:{marginBottom:16},children:e.jsxs(h,{size:"large",children:[e.jsx(d,{type:i==="text"?"primary":"default",icon:e.jsx(L,{}),onClick:()=>U("text"),children:"文本内容生成"}),e.jsx(d,{type:i==="file"?"primary":"default",icon:e.jsx(z,{}),onClick:()=>U("file"),children:"文件规范化处理"})]})}),e.jsxs(_e,{gutter:24,children:[e.jsx(W,{span:i==="text"?14:12,children:e.jsx(x,{title:i==="text"?"输入内容":"上传文件",extra:i==="text"&&e.jsx(d,{type:"link",onClick:()=>$(Te),children:"填入示例"}),children:i==="text"?e.jsx(h,{direction:"vertical",style:{width:"100%"},size:"large",children:e.jsxs("div",{children:[e.jsx(a,{strong:!0,style:{marginBottom:8,display:"block"},children:"AI 生成的内容（支持 Markdown 格式）："}),e.jsx(st,{value:b,onChange:t=>$(t.target.value),placeholder:`请粘贴 AI 生成的内容，支持：\r
# 一级标题\r
## 二级标题\r
**粗体文字**\r
- 列表项\r
1. 有序列表\r
\r
等 Markdown 格式，以及 / * 等特殊字符...`,rows:16,style:{fontFamily:"monospace",fontSize:"13px"}})]})}):e.jsxs(h,{direction:"vertical",style:{width:"100%"},size:"large",children:[e.jsxs("div",{children:[e.jsx(a,{strong:!0,style:{marginBottom:8,display:"block"},children:"上传不规范的 Word/PDF 文件："}),e.jsx(a,{type:"secondary",style:{display:"block",marginBottom:12},children:"AI 将自动识别文档类型、提取关键信息、重新格式化生成标准合同或函件"}),e.jsx(H,{accept:".pdf,.doc,.docx,.txt",maxCount:1,customRequest:Ie,showUploadList:!1,onRemove:()=>se(null),children:F?e.jsxs("div",{children:[e.jsx(X,{style:{fontSize:48,color:"#52c41a"}}),e.jsx("p",{className:"ant-upload-text",children:F.name})]}):e.jsxs("div",{children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(z,{style:{fontSize:48,color:"#1890ff"}})}),e.jsx("p",{className:"ant-upload-text",children:"点击或拖拽文件到此区域上传"}),e.jsx("p",{className:"ant-upload-hint",children:"支持格式：PDF、DOC、DOCX、TXT"})]})})]}),e.jsxs("div",{children:[e.jsx(a,{strong:!0,style:{marginBottom:8,display:"block"},children:"文档类型："}),e.jsxs(u.Group,{value:O,onChange:t=>V(t.target.value),style:{width:"100%"},children:[e.jsxs(u,{value:"contract",style:{display:"block",marginBottom:8},children:[e.jsx(L,{})," 标准合同"]}),e.jsxs(u,{value:"letter",style:{display:"block"},children:[e.jsx(L,{})," 正式函件"]})]})]})]})})}),e.jsxs(W,{span:i==="text"?10:12,children:[e.jsx(x,{title:"生成结果",extra:p&&e.jsx(P,{color:"success",children:"处理完成"}),children:q?e.jsxs("div",{style:{textAlign:"center",padding:"60px 0"},children:[e.jsx(pe,{size:"large"}),e.jsx("p",{style:{marginTop:24,color:"#666"},children:i==="text"?"正在生成文档...":"正在处理文件..."}),e.jsx(xe,{percent:75,status:"active",style:{marginTop:16}})]}):p?e.jsxs("div",{children:[e.jsxs(c,{column:1,size:"small",bordered:!0,children:[e.jsx(c.Item,{label:"文件名",children:p.filename}),e.jsx(c.Item,{label:"状态",children:e.jsx(P,{color:"success",children:p.status})}),e.jsx(c.Item,{label:"格式",children:e.jsx(P,{color:"blue",children:m.toUpperCase()})})]}),e.jsx(C,{style:{margin:"24px 0"}}),e.jsxs(h,{direction:"vertical",style:{width:"100%"},children:[e.jsx(d,{block:!0,icon:e.jsx(de,{}),onClick:Fe,children:"在线预览"}),e.jsx(d,{block:!0,icon:e.jsx(ee,{}),onClick:()=>ie("docx"),children:"下载 Word 文档"}),e.jsx(d,{block:!0,icon:e.jsx(te,{}),onClick:()=>ie("pdf"),children:"下载 PDF 文档"})]})]}):e.jsxs("div",{style:{textAlign:"center",padding:"60px 0",color:"#999"},children:[e.jsx(et,{style:{fontSize:64,marginBottom:16,color:"#d9d9d9"}}),e.jsx("p",{children:i==="text"?'在左侧输入内容后点击"生成文档"':'上传文件后点击"开始处理"'})]})}),i==="text"&&e.jsxs(x,{title:"输出格式",style:{marginTop:16},children:[e.jsxs(u.Group,{value:m,onChange:t=>E(t.target.value),style:{width:"100%"},children:[e.jsxs(u,{value:"docx",style:{display:"block",marginBottom:12},children:[e.jsx(ee,{})," Word 文档 (.docx)"]}),e.jsxs(u,{value:"pdf",style:{display:"block"},children:[e.jsx(te,{})," PDF 文档 (.pdf)"]})]}),e.jsx(C,{}),e.jsx(d,{type:"primary",size:"large",block:!0,icon:e.jsx(Z,{}),loading:q,onClick:le,disabled:!b.trim(),children:"生成文档"})]}),i==="file"&&e.jsxs(x,{title:"输出格式",style:{marginTop:16},children:[e.jsxs(u.Group,{value:m,onChange:t=>E(t.target.value),style:{width:"100%"},children:[e.jsxs(u,{value:"docx",style:{display:"block",marginBottom:12},children:[e.jsx(ee,{})," Word 文档 (.docx)"]}),e.jsxs(u,{value:"pdf",style:{display:"block"},children:[e.jsx(te,{})," PDF 文档 (.pdf)"]})]}),e.jsx(C,{}),e.jsx(d,{type:"primary",size:"large",block:!0,icon:e.jsx(Z,{}),loading:q,onClick:le,disabled:!F,children:"开始处理"})]})]})]}),e.jsx(C,{orientation:"left",children:"使用说明"}),e.jsx(x,{size:"small",children:e.jsxs(h,{direction:"vertical",style:{width:"100%"},children:[e.jsx(a,{strong:!0,children:"文本内容生成模式："}),e.jsx(a,{children:"• 支持粘贴 AI（如 DeepSeek、ChatGPT 等）生成的合同、函件内容"}),e.jsx(a,{children:"• 自动识别 Markdown 格式标记：# 标题、**粗体**、- 列表等"}),e.jsx(a,{children:"• 可选择输出为 Word 或 PDF 格式"}),e.jsx(a,{children:"• 生成后支持在线预览和下载"}),e.jsx(C,{style:{margin:"8px 0"}}),e.jsx(a,{strong:!0,children:"文件规范化处理模式："}),e.jsx(a,{children:"• 上传不规范的 Word/PDF 文件"}),e.jsx(a,{children:"• AI 自动识别文档类型（合同/函件）"}),e.jsx(a,{children:"• 提取关键信息并重新格式化"}),e.jsx(a,{children:"• 生成标准格式的合同或函件文档"})]})})]})},{key:"compare",label:e.jsxs("span",{children:[e.jsx(he,{}),"文件比对"]}),children:e.jsxs("div",{className:"compare-tab",children:[e.jsx(G,{message:"文件比对功能",description:"上传两份文档，AI 将自动识别它们之间的差异，包括新增、删除、修改的内容，并生成详细的比对报告。",type:"info",showIcon:!0,style:{marginBottom:24}}),e.jsxs(_e,{gutter:24,children:[e.jsx(W,{span:12,children:e.jsx(x,{title:"原始文档",children:e.jsx(H,{accept:".pdf,.doc,.docx,.txt",maxCount:1,customRequest:ce(1),showUploadList:!1,onRemove:()=>N(null),children:j?e.jsxs("div",{children:[e.jsx(X,{style:{fontSize:48,color:"#52c41a"}}),e.jsx("p",{className:"ant-upload-text",children:j.name})]}):e.jsxs("div",{children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(z,{style:{fontSize:48,color:"#1890ff"}})}),e.jsx("p",{className:"ant-upload-text",children:"上传原始文档"})]})})})}),e.jsx(W,{span:12,children:e.jsx(x,{title:"对比文档",children:e.jsx(H,{accept:".pdf,.doc,.docx,.txt",maxCount:1,customRequest:ce(2),showUploadList:!1,onRemove:()=>A(null),children:f?e.jsxs("div",{children:[e.jsx(X,{style:{fontSize:48,color:"#52c41a"}}),e.jsx("p",{className:"ant-upload-text",children:f.name})]}):e.jsxs("div",{children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(z,{style:{fontSize:48,color:"#1890ff"}})}),e.jsx("p",{className:"ant-upload-text",children:"上传对比文档"})]})})})})]}),j&&f&&e.jsx("div",{style:{textAlign:"center",marginTop:24},children:e.jsx(d,{type:"primary",size:"large",icon:e.jsx(he,{}),loading:be,onClick:Re,children:"开始比对"})}),we&&e.jsx(x,{title:"比对结果",style:{marginTop:24},children:e.jsx("p",{children:"比对结果将在此显示"})}),e.jsx(C,{orientation:"left",children:"功能说明"}),e.jsxs(c,{bordered:!0,column:2,size:"small",children:[e.jsx(c.Item,{label:"比对模式",children:"文本内容比对、格式差异比对"}),e.jsx(c.Item,{label:"差异高亮",children:"新增（绿色）、删除（红色）、修改（黄色）"}),e.jsx(c.Item,{label:"支持格式",children:"PDF、DOC、DOCX、TXT"}),e.jsx(c.Item,{label:"报告导出",children:"支持导出 Word、PDF 格式的比对报告"})]})]})}];return e.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",background:"#f0f2f5"},children:[e.jsx(We,{currentModuleKey:"document-processing"}),e.jsxs("div",{style:{flex:1,padding:"24px"},children:[D&&!ge&&e.jsx(G,{message:"检测到之前的会话",description:e.jsxs(h,{direction:"vertical",size:"small",children:[e.jsx(a,{children:"系统检测到您之前有一个未完成的文档处理会话。您可以："}),e.jsxs(h,{children:[e.jsx(d,{size:"small",type:"primary",onClick:()=>{l.info("已恢复之前的会话")},children:"继续之前的操作"}),e.jsx(d,{size:"small",onClick:()=>{fe(),w("preprocess"),S([]),U("text"),$(""),V("contract"),E("docx"),B(null),N(null),A(null),l.info("已清除之前的会话，可以开始新的文档处理")},children:"开始新操作"})]})]}),type:"info",closable:!0,style:{marginBottom:16}}),e.jsx(x,{bordered:!1,title:e.jsxs(h,{children:[e.jsx(L,{style:{fontSize:24,color:"#1890ff"}}),e.jsx(tt,{level:3,style:{margin:0},children:"文档处理中心"})]}),children:e.jsx(Ne,{activeKey:k,onChange:w,items:Pe,size:"large"})}),e.jsx(qe,{title:"文档预览",open:ve,onCancel:()=>R(!1),footer:null,width:"90%",style:{top:20},bodyStyle:{height:"calc(100vh - 200px)",padding:0},children:K?e.jsx(Le,{id:"docPreviewEditor",documentServerUrl:"http://localhost:9000",config:{...K.config,token:K.token},height:"100%",width:"100%"}):oe?e.jsx("iframe",{src:`http://localhost:9000/web-apps/apps/api/documents?src=${encodeURIComponent(oe)}`,style:{width:"100%",height:"100%",border:"none"},title:"文档预览"}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:e.jsx(pe,{size:"large",tip:"加载预览..."})})})]})]})};export{St as default};
