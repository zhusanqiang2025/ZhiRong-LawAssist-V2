import{r as o,z as Te,_ as Be,o as _,j as e,d as R,c as ot,C as te,i as d,u as Dt,ba as Wt,F as W,S as ce,B as m,D as Qe,t as Ye,aA as Ht,h as ke,I as D,A as Ze,e as Nt,b as Ut,az as Vt,n as et,bb as be,bc as tt,l as Gt,bd as P,be as qt,G as Kt,aw as st}from"./index-DsSH7ar9.js";import{o as Xt}from"./index-wJqYUFlE.js";import{E as Jt}from"./EnhancedModuleNavBar-Bp6_HD3Y.js";import{M as Qt}from"./ModuleKnowledgeToggle-Ci3NjQy9.js";import{A as $,R as Re}from"./DownloadOutlined-o4CB4bSj.js";import{S as nt}from"./index-BpzEpsT7.js";import{P as Yt}from"./progress-DKXx16Cn.js";import{R as de}from"./WarningOutlined-_wKHRyTj.js";import{R as Zt}from"./ExclamationCircleOutlined-C2a8tBPf.js";import{R as es}from"./CheckCircleOutlined-D8HzKhfL.js";/* empty css                       */import{C as ee}from"./FileOutlined-BA7hF7cG.js";import{R as rt}from"./DeleteOutlined-CY9uT1Ot.js";import{M as Ce}from"./index-DTpoEitt.js";import{F as ts}from"./Table-CaPdJZWm.js";import{R as ss}from"./CloseCircleOutlined-BRhCAhkV.js";import{P as ns}from"./index-ClzuLtYZ.js";import{C as it}from"./Collapse-CnZLgQUm.js";import"./ArrowLeftOutlined-BHlgvKnq.js";import"./DiffOutlined-CZw1c_Uc.js";import"./DatabaseOutlined-D6EghLgp.js";import"./index-sybAN3w3.js";import"./InfoCircleOutlined-BhtMjM5p.js";import"./useBubbleLock-CdnnBsGq.js";import"./index-C7cOsvdw.js";import"./FolderOpenOutlined-dv06YFdz.js";var rs={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM472 744a40 40 0 1080 0 40 40 0 10-80 0zm16-104h48c4.4 0 8-3.6 8-8V448c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v184c0 4.4 3.6 8 8 8z"}}]},name:"file-exclamation",theme:"outlined"},os=function(n,w){return o.createElement(Te,Be({},n,{ref:w,icon:rs}))},is=o.forwardRef(os),ls={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"},as=function(n,w){return o.createElement(Te,Be({},n,{ref:w,icon:ls}))},cs=o.forwardRef(as),ds={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},gs=function(n,w){return o.createElement(Te,Be({},n,{ref:w,icon:ds}))},ps=o.forwardRef(gs);const us=({contractId:k})=>{const[n,w]=o.useState(null),[T,y]=o.useState(!1),[N,K]=o.useState(null);o.useEffect(()=>{U()},[k]);const U=async()=>{y(!0),K(null);try{const p=await _.getHealthAssessment(k);w(p.data)}catch(p){console.error("è·å–å¥åº·åº¦è¯„ä¼°å¤±è´¥",p),K(p.response?.data?.detail||"è·å–å¥åº·åº¦è¯„ä¼°å¤±è´¥")}finally{y(!1)}},z=p=>{switch(p){case"å¥åº·":return"#52c41a";case"è‰¯å¥½":return"#1890ff";case"ä¸­ç­‰é£é™©":return"#faad14";case"é«˜é£é™©":return"#ff4d4f";case"æé«˜é£é™©":return"#cf1322";default:return"#8c8c8c"}},M=p=>{switch(p){case"å¥åº·":case"è‰¯å¥½":return e.jsx(es,{});case"ä¸­ç­‰é£é™©":return e.jsx(Zt,{});case"é«˜é£é™©":case"æé«˜é£é™©":return e.jsx(de,{});default:return null}},g=p=>{switch(p){case"å¥åº·":case"è‰¯å¥½":return"success";case"ä¸­ç­‰é£é™©":return"warning";case"é«˜é£é™©":case"æé«˜é£é™©":return"error";default:return"info"}};return T?e.jsx(R,{loading:!0}):N?e.jsx(R,{className:"health-assessment-card",style:{marginBottom:20},children:e.jsx($,{message:"å¥åº·åº¦è¯„ä¼°åŠ è½½å¤±è´¥",description:N,type:"error",showIcon:!0})}):n?e.jsxs(R,{className:"health-assessment-card",style:{marginBottom:20},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:16},children:[e.jsx(ps,{style:{fontSize:24,color:z(n.level)}}),e.jsx("h2",{style:{margin:0,fontSize:18},children:"åˆåŒå¥åº·åº¦ç»¼åˆè¯„ä¼°"})]}),e.jsxs(ot,{gutter:24,children:[e.jsx(te,{span:8,children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(nt,{title:"å¥åº·åº¦è¯„åˆ†",value:n.score,suffix:"/ 100",valueStyle:{color:z(n.level),fontSize:28}}),e.jsx(Yt,{percent:n.score,strokeColor:z(n.level),showInfo:!1,style:{marginTop:12},strokeWidth:12})]})}),e.jsx(te,{span:8,children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(nt,{title:"é£é™©ç­‰çº§",value:n.level,prefix:M(n.level),valueStyle:{color:z(n.level),fontSize:18}}),e.jsxs("div",{style:{marginTop:12,color:"#8c8c8c",fontSize:13},children:["å…±å‘ç° ",n.total_risks," ä¸ªé£é™©ç‚¹"]})]})}),e.jsx(te,{span:8,children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:14,color:"#8c8c8c",marginBottom:12},children:"é£é™©åˆ†å¸ƒ"}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",gap:6},children:[n.risk_distribution.Critical>0&&e.jsxs(d,{color:"red",children:["æä¸¥é‡: ",n.risk_distribution.Critical]}),n.risk_distribution.High>0&&e.jsxs(d,{color:"orange",children:["é«˜é£é™©: ",n.risk_distribution.High]}),n.risk_distribution.Medium>0&&e.jsxs(d,{color:"gold",children:["ä¸­ç­‰: ",n.risk_distribution.Medium]}),n.risk_distribution.Low>0&&e.jsxs(d,{color:"blue",children:["è½»å¾®: ",n.risk_distribution.Low]}),n.total_risks===0&&e.jsx(d,{color:"green",children:"æ— é£é™©ç‚¹"})]})]})})]}),e.jsx($,{message:"ç»¼åˆè¯„ä¼°",description:n.summary,type:g(n.level),showIcon:!0,style:{marginTop:20}}),n.recommendations&&n.recommendations.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:8,fontSize:14},children:"æ”¹è¿›å»ºè®®ï¼š"}),e.jsx("ul",{style:{paddingLeft:20,margin:0},children:n.recommendations.map((p,se)=>e.jsx("li",{style:{marginBottom:4},children:p},se))})]})]}):null},{TextArea:Ie}=D,{Panel:fs}=it,H=k=>{if(Array.isArray(k))return k;if(!k)return[];const n=[],w=k.split(/[ï¼›;]/);for(const T of w){const y=T.trim();y&&n.push(y)}return n.length>0?n:[k]},Ns=()=>{const k=Dt(),{message:n}=Wt.useApp(),[w,T]=o.useState(null),[y,N]=o.useState(null),[K,U]=o.useState(!1),[z,M]=o.useState("upload"),[g,p]=o.useState({}),[se,$e]=o.useState("ç”²æ–¹"),[j,ge]=o.useState([]),[pe,V]=o.useState(!1),[ne,re]=o.useState(!1),[xs,ze]=o.useState(!1),[hs,Ee]=o.useState(""),[X,E]=o.useState(!1),[lt,ue]=o.useState(!1),[J,fe]=o.useState(null);o.useEffect(()=>{console.log("ğŸ“Š showUploadProgress çŠ¶æ€å˜åŒ–:",X,"uploadProgressRef.current:",b.current)},[X]);const[Ae,at]=o.useState(!1),[Me,ct]=o.useState(0),[dt,Pe]=o.useState(!1),[gt,xe]=o.useState(!1),[pt,ut]=o.useState([]),[he]=W.useForm(),[oe,Oe]=o.useState([]),[ft,me]=o.useState(!1),[O,xt]=o.useState(null),[ye,Le]=o.useState(""),[je,Fe]=o.useState(""),[B,ie]=o.useState([]),[Q,De]=o.useState(!1),[ht,ve]=o.useState("suggestions"),[We,L]=o.useState(""),F=o.useRef(null),b=o.useRef(!1),le=o.useRef(0),ae=async()=>{try{const s=(await _.get("/admin/rules",{params:{category:"custom"}})).data.filter(r=>!r.is_system);ut(s),ct(s.length)}catch(t){console.error("è·å–è‡ªå®šä¹‰è§„åˆ™å¤±è´¥",t)}},He=()=>{localStorage.removeItem("contractReview_contractId"),localStorage.removeItem("contractReview_step"),N(null),M("upload"),T(null),p({}),$e("ç”²æ–¹"),ge([]),V(!1),re(!1),ze(!1),Ee(""),E(!1),Oe([]),ve("suggestions"),L(""),ue(!1),fe(null),n.success("å·²å¼€å§‹æ–°ä»»åŠ¡")},mt=async()=>{if(!J)return;const{savedContractId:t,status:s,metadata:r,canLoadEditor:l}=J;try{if(N(parseInt(t)),l){const i=await _.get(`/contract-review/${t}/onlyoffice-config`),a=i.data.config,f=i.data.token;T({...a,token:f})}r&&(p(i=>({...i,contract_name:r.contract_name||i.contract_name||"",parties:H(r.parties),amount:r.amount||i.amount||"",contract_type:r.contract_type||i.contract_type||"",core_terms:r.core_terms||i.core_terms||"",legal_features:r.legal_features||i.legal_features})),V(!1),re(!0));const c=localStorage.getItem("contractReview_step");c&&M(c),ue(!1),fe(null),n.success("å·²æ¢å¤ä¸Šæ¬¡çš„ä¼šè¯")}catch(c){console.error("æ¢å¤ä¼šè¯å¤±è´¥",c),n.error("æ¢å¤ä¼šè¯å¤±è´¥ï¼Œè¯·å¼€å§‹æ–°ä»»åŠ¡"),He()}};o.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("contractReview_contractId");if(!s)return;console.log("ğŸ” æ£€æµ‹åˆ°ä¸Šæ¬¡çš„ä¼šè¯ï¼ŒcontractId:",s);const r=await _.get(`/contract-review/${s}/processing-status`),{processing_status:l,can_load_editor:c,has_metadata:i,metadata:a}=r.data;console.log("ğŸ” ä¸Šæ¬¡ä¼šè¯çŠ¶æ€:",l,"can_load_editor:",c,"has_metadata:",i),fe({savedContractId:s,status:l,canLoadEditor:c,hasMetadata:i,metadata:a}),ue(!0),n.info("æ£€æµ‹åˆ°ä¸Šæ¬¡çš„æœªå®Œæˆä»»åŠ¡ï¼Œå¯åœ¨ä¸‹æ–¹é€‰æ‹©ç»§ç»­æˆ–å¼€å§‹æ–°ä»»åŠ¡")}catch(s){console.error("æ£€æŸ¥ä¼šè¯å¤±è´¥",s),localStorage.removeItem("contractReview_contractId"),localStorage.removeItem("contractReview_step")}})()},[]),o.useEffect(()=>{y&&localStorage.setItem("contractReview_contractId",y.toString())},[y]),o.useEffect(()=>{localStorage.setItem("contractReview_step",z)},[z]);const yt=async t=>{try{await _.post("/admin/rules",{...t,rule_category:"custom",is_system:!1}),n.success("è‡ªå®šä¹‰è§„åˆ™åˆ›å»ºæˆåŠŸ"),ae(),xe(!1)}catch(s){n.error(s.response?.data?.detail||"åˆ›å»ºå¤±è´¥")}},jt=async t=>{try{await _.delete(`/admin/rules/${t}`),n.success("åˆ é™¤æˆåŠŸ"),ae()}catch(s){n.error(s.response?.data?.detail||"åˆ é™¤å¤±è´¥")}},vt=async t=>{try{await _.put(`/admin/rules/${t}/toggle`),n.success("çŠ¶æ€æ›´æ–°æˆåŠŸ"),ae()}catch(s){n.error(s.response?.data?.detail||"æ›´æ–°å¤±è´¥")}},_t=async t=>{const s=t.target.files?.[0];if(!s)return;const r=s.name.toLowerCase();if(![".doc",".docx",".pdf",".txt",".rtf",".odt",".jpg",".jpeg",".png",".bmp",".tiff",".gif"].some(a=>r.endsWith(a))){n.error("æ”¯æŒçš„æ ¼å¼ï¼šæ–‡æ¡£ (.doc/.docx/.pdf/.txt/.rtf/.odt) æˆ–å›¾ç‰‡ (.jpg/.png/.bmp)");return}[".jpg",".jpeg",".png",".bmp",".tiff",".gif"].some(a=>r.endsWith(a))?n.info("æ­£åœ¨ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶ï¼Œç³»ç»Ÿå°†ä½¿ç”¨ OCR è¯†åˆ«æ–‡å­—å†…å®¹..."):(r.endsWith(".doc")||r.endsWith(".pdf")||r.endsWith(".txt")||r.endsWith(".rtf")||r.endsWith(".odt"))&&n.info(`æ­£åœ¨ä¸Šä¼  ${r.split(".").pop()} æ–‡ä»¶ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è½¬æ¢ä¸º .docx æ ¼å¼...`),U(!0);try{console.log("ğŸ”µ å¼€å§‹ä¸Šä¼ æ–‡ä»¶ï¼Œè®¾ç½®ä¸Šä¼ è¿›åº¦çŠ¶æ€"),le.current=Date.now(),b.current=!0,P.flushSync(()=>{E(!0),ze(!0)}),console.log("ğŸ”µ ä¸Šä¼ è¿›åº¦çŠ¶æ€å·²åŒæ­¥è®¾ç½®ï¼ŒshowUploadProgress:",X,"uploadProgressRef.current:",b.current);const a=await _.uploadContract(s),f=a.data.contract_id;if(console.log("ä¸Šä¼ æˆåŠŸï¼Œcontract_id:",f,"å“åº”æ•°æ®:",a.data),N(f),a.data.preprocess_info){const{original_format:x}=a.data.preprocess_info;x&&x!=="docx"?n.success(`æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼æ­£åœ¨è½¬æ¢ ${x.toUpperCase()} æ ¼å¼...`):n.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼æ­£åœ¨åå°å¤„ç†...")}else n.success("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼æ­£åœ¨åå°å¤„ç†...");if(a.data.config&&a.data.token){T({...a.data.config,token:a.data.token}),console.log("OnlyOffice é…ç½®å·²è®¾ç½® (æ¥è‡ªä¸Šä¼ å“åº”)");const x=3e3,u=Date.now()-le.current;if(u<x){const C=x-u;console.log(`â³ ä¸Šä¼ å“åº”åŒ…å« configï¼Œä½†ç­‰å¾… ${C}ms åéšè—ä¸Šä¼ è¿›åº¦ç•Œé¢`),setTimeout(()=>{b.current=!1,P.flushSync(()=>{E(!1)}),console.log("âœ… ä¸Šä¼ è¿›åº¦ç•Œé¢å·²éšè—ï¼ˆæœ€å°æ˜¾ç¤ºæ—¶é—´å·²è¿‡ï¼‰")},C)}else b.current=!1,P.flushSync(()=>{E(!1)})}else{n.info("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨åå°å¤„ç†æ ¼å¼å’Œé¢„è§ˆ...");const x=async(u=0)=>{if(u>=30){console.warn("åå°å¤„ç†è½®è¯¢è¶…æ—¶ï¼Œå°è¯•è·å–é…ç½®");try{const S=await _.get(`/contract-review/${f}/onlyoffice-config`),h=S.data.config,v=S.data.token;T({...h,token:v}),console.log("OnlyOffice é…ç½®å·²è®¾ç½® (è¶…æ—¶åè·å–)")}catch(S){console.warn("è¶…æ—¶åä»æ— æ³•è·å– OnlyOffice é…ç½®",S)}return}try{const S=await _.get(`/contract-review/${f}/processing-status`),{processing_status:h,can_load_editor:v}=S.data;if(Ee(h),console.log(`åå°å¤„ç†çŠ¶æ€ (ç¬¬${u+1}æ¬¡):`,h,"can_load_editor:",v),v){const G=await _.get(`/contract-review/${f}/onlyoffice-config`),Y=G.data.config,A=G.data.token;T({...Y,token:A});const Z=3e3,I=Date.now()-le.current;if(I<Z){const q=Z-I;console.log(`â³ pollProcessingComplete: ç­‰å¾… ${q}ms åéšè—ä¸Šä¼ è¿›åº¦ç•Œé¢`),setTimeout(()=>{b.current=!1,P.flushSync(()=>{E(!1)}),console.log("âœ… ä¸Šä¼ è¿›åº¦ç•Œé¢å·²éšè—ï¼ˆpollProcessingComplete æœ€å°æ˜¾ç¤ºæ—¶é—´å·²è¿‡ï¼‰")},q)}else b.current=!1,P.flushSync(()=>{E(!1)});console.log("OnlyOffice é…ç½®å·²è®¾ç½® (docxè½¬æ¢å®Œæˆå³å¯åŠ è½½)"),h==="completed"?n.success("æ–‡ä»¶å¤„ç†å®Œæˆï¼Œå¯ä»¥å¼€å§‹ç¼–è¾‘"):h==="metadata_extraction"?n.info("ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ­£åœ¨æå–åˆåŒå…ƒæ•°æ®..."):h==="pdf_generation"&&n.info("ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ­£åœ¨ç”ŸæˆPDFé¢„è§ˆ...");return}else setTimeout(()=>x(u+1),2e3)}catch(S){console.warn("æŸ¥è¯¢å¤„ç†çŠ¶æ€å¤±è´¥ï¼Œ2ç§’åé‡è¯•",S),setTimeout(()=>x(u+1),2e3)}};x()}if(M("metadata"),V(!0),re(!1),f){const x=async(u=0)=>{const S=(h,v)=>v<5?"æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œæ­£åœ¨å¤„ç†...":h==="format_conversion"?"æ­£åœ¨è½¬æ¢æ–‡ä»¶æ ¼å¼ï¼ˆ.doc â†’ .docxï¼‰...":h==="pdf_generation"?"æ­£åœ¨ç”ŸæˆPDFé¢„è§ˆ...":h==="metadata_extraction"?"æ­£åœ¨æå–åˆåŒå…ƒæ•°æ®...":v<15?"åˆåŒä¿¡æ¯æå–ä¸­ï¼Œè¯·ç¨å€™...":v<30?"æ­£åœ¨åˆ†æåˆåŒæ¡æ¬¾ï¼ˆå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼‰...":"ä»åœ¨å¤„ç†ä¸­ï¼Œæ„Ÿè°¢æ‚¨çš„è€å¿ƒç­‰å¾…...";if(u>45){console.warn("å¤„ç†çŠ¶æ€è½®è¯¢è¶…æ—¶"),V(!1),b.current=!1,P.flushSync(()=>{E(!1)}),n.warning({content:"æ–‡ä»¶å¤„ç†è€—æ—¶è¾ƒé•¿ï¼Œå¯èƒ½æ˜¯æ–‡ä»¶æ ¼å¼è¾ƒå¤æ‚ã€‚æ‚¨å¯ä»¥ç¨ååˆ·æ–°é¡µé¢æˆ–ç»§ç»­å¡«å†™åˆåŒä¿¡æ¯ã€‚",duration:6});return}try{const h=await _.get(`/contract-review/${f}/processing-status`);console.log(`è½®è¯¢å¤„ç†çŠ¶æ€ (ç¬¬${u+1}æ¬¡):`,h.data);const{processing_status:v,can_load_editor:G,has_metadata:Y,metadata:A,error_message:Z}=h.data;if(G&&!w){console.log("âœ… æ£€æµ‹åˆ°å¯ä»¥åŠ è½½ç¼–è¾‘å™¨");const I=await _.get(`/contract-review/${f}/onlyoffice-config`),q=I.data.config,Xe=I.data.token;T({...q,token:Xe}),console.log("âœ… OnlyOffice é…ç½®å·²è®¾ç½®ï¼ŒeditorConfig:",{...q,token:Xe});const we=3e3,Se=Date.now()-le.current;if(console.log(`â±ï¸ å·²æ˜¾ç¤º ${Se}msï¼Œæœ€å°æ˜¾ç¤ºæ—¶é—´ ${we}ms`),Se<we){const Je=we-Se;console.log(`â³ ç­‰å¾… ${Je}ms åéšè—ä¸Šä¼ è¿›åº¦ç•Œé¢`),setTimeout(()=>{b.current=!1,P.flushSync(()=>{E(!1)}),console.log("âœ… ä¸Šä¼ è¿›åº¦ç•Œé¢å·²éšè—ï¼ˆæœ€å°æ˜¾ç¤ºæ—¶é—´å·²è¿‡ï¼‰")},Je)}else console.log("âœ… å·²è¶…è¿‡æœ€å°æ˜¾ç¤ºæ—¶é—´ï¼Œç«‹å³éšè—ä¸Šä¼ è¿›åº¦ç•Œé¢"),b.current=!1,P.flushSync(()=>{E(!1)});v==="completed"?n.success("æ–‡ä»¶å¤„ç†å®Œæˆï¼Œå¯ä»¥å¼€å§‹ç¼–è¾‘"):v==="metadata_extraction"?n.info("ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ­£åœ¨æå–åˆåŒå…ƒæ•°æ®..."):v==="pdf_generation"&&n.info("ç¼–è¾‘å™¨å·²å°±ç»ªï¼Œæ­£åœ¨ç”ŸæˆPDFé¢„è§ˆ...")}if(u>0&&u%10===0&&n.info(S(v,u),2),v==="error"){console.error("åå°å¤„ç†å¤±è´¥:",Z),V(!1),b.current=!1,P.flushSync(()=>{E(!1)}),n.error(`æ–‡ä»¶å¤„ç†å¤±è´¥: ${Z}`);return}if(Y&&A){console.log("âœ… å…ƒæ•°æ®å·²å°±ç»ª:",A),p(I=>({...I,contract_name:A.contract_name||I.contract_name||"",parties:H(A.parties),amount:A.amount||I.amount||"",contract_type:A.contract_type||I.contract_type||"",core_terms:A.core_terms||I.core_terms||"",legal_features:A.legal_features||I.legal_features})),V(!1),re(!0),n.success("åˆåŒä¿¡æ¯æå–æˆåŠŸï¼Œå¯ä¿®æ”¹åç¡®è®¤");return}else console.log(`â³ å¤„ç†ä¸­ (${v})ï¼Œ2ç§’åé‡è¯•...`),setTimeout(()=>x(u+1),2e3)}catch(h){console.error("æ£€æŸ¥å¤„ç†çŠ¶æ€å¤±è´¥",h),setTimeout(()=>x(u+1),2e3)}};x()}}catch(a){console.error("ä¸Šä¼ å¤±è´¥",a),n.error(a.response?.data?.detail||"æ–‡ä»¶ä¸Šä¼ å¤±è´¥")}finally{U(!1)}},Ne=async()=>{if(y){U(!0),M("reviewing"),L("ğŸ“‹ æ­£åœ¨å¯åŠ¨å®¡æŸ¥ä»»åŠ¡..."),n.info({content:"æ­£åœ¨å¯åŠ¨åˆåŒæ·±åº¦å®¡æŸ¥...",duration:3});try{const t={...g};Array.isArray(g.parties)&&(t.parties=g.parties.join("; "));const s=new FormData;s.append("stance",se),s.append("enable_custom_rules",Ae.toString()),s.append("use_langgraph","true"),s.append("use_celery","true"),oe.length>0&&(s.append("transaction_structures",JSON.stringify(oe)),console.log("ğŸ“¤ å‘é€äº¤æ˜“ç»“æ„:",JSON.stringify(oe))),s.append("updated_metadata",JSON.stringify(t)),console.log("ğŸ“¤ å‘é€å…ƒæ•°æ®:",t),(await _.post(`/contract-review/${y}/deep-review`,s,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&n.success("æ·±åº¦å®¡æŸ¥ä»»åŠ¡å·²æäº¤ï¼Œæ­£åœ¨åå°åŠ è½½å®¡æŸ¥è§„åˆ™å¹¶åˆ†æåˆåŒ..."),wt()}catch(t){console.error("å®¡æŸ¥å¯åŠ¨å¤±è´¥",t),console.error("é”™è¯¯è¯¦æƒ…:",t.response?.data),L(""),n.error(t.response?.data?.detail||"å®¡æŸ¥å¯åŠ¨å¤±è´¥"),M("metadata")}finally{U(!1)}}},wt=async()=>{if(!y)return;let t=0;const s=150;let r=0;const l=[{message:"ğŸ“‹ æ­£åœ¨åŠ è½½å®¡æŸ¥è§„åˆ™...",threshold:0},{message:"ğŸ” æ­£åœ¨åˆ†æåˆåŒæ¡æ¬¾...",threshold:10},{message:"âš ï¸ æ­£åœ¨è¯†åˆ«é£é™©ç‚¹...",threshold:30},{message:"ğŸ“ æ­£åœ¨ç”Ÿæˆå®¡æŸ¥æŠ¥å‘Š...",threshold:60},{message:"ğŸ¯ æ­£åœ¨ä¼˜åŒ–å®¡æŸ¥ç»“æœ...",threshold:90}],c=async()=>{try{t++;const i=l.find((u,C)=>t>=u.threshold&&(C===l.length-1||t<l[C+1].threshold));i&&r!==l.indexOf(i)&&(r=l.indexOf(i),L(i.message),n.loading({content:i.message,duration:4,key:"review-progress"}),console.log(`[å®¡æŸ¥è¿›åº¦] ${i.message} (ç¬¬${t}æ¬¡è½®è¯¢)`));const a=await _.getReviewResults(y),{status:f,review_items:x}=a.data;if(console.log(`[å®¡æŸ¥è½®è¯¢] ç¬¬${t}æ¬¡: status=${f}, items=${x?.length||0}`),f==="waiting_human"||f==="approved"){ge(x),M("results"),L(""),n.success({content:`âœ… å®¡æŸ¥å®Œæˆï¼å‘ç° ${x.length} ä¸ªé£é™©ç‚¹`,duration:5});return}else f==="processing"||f==="pending"||f==="reviewing"?t<s?setTimeout(c,3e3):(L(""),n.error("å®¡æŸ¥è¶…æ—¶ï¼Œè¯·ç¨ååˆ·æ–°æŸ¥çœ‹ç»“æœ")):(L(""),n.warning(`æœªçŸ¥çŠ¶æ€: ${f}ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•`))}catch(i){console.error("è·å–ç»“æœå¤±è´¥",i),t<s?setTimeout(c,5e3):(L(""),n.error("è·å–å®¡æŸ¥ç»“æœè¶…æ—¶"))}};c()},St=t=>{xt(t),Le(t.explanation),Fe(t.suggestion),me(!0)},kt=async()=>{if(O)try{await _.updateReviewItem(O.id,{explanation:ye,suggestion:je}),ge(j.map(t=>t.id===O.id?{...t,explanation:ye,suggestion:je}:t)),n.success("å®¡æŸ¥æ„è§å·²æ›´æ–°"),me(!1)}catch(t){console.error("æ›´æ–°å®¡æŸ¥æ„è§å¤±è´¥",t),n.error(t.response?.data?.detail||"æ›´æ–°å¤±è´¥")}},_e=async t=>{if(!y)return;const s=t||B;if(s.length===0){n.warning("è¯·å…ˆé€‰æ‹©è¦åº”ç”¨çš„ä¿®æ”¹æ„è§");return}De(!0);try{const r=await _.applyRevisions(y,s,!1);if(r.data.config&&r.data.token){T({...r.data.config,token:r.data.token});const l=r.data.converted?` (åŸæ–‡ä»¶æ ¼å¼: ${r.data.original_format?.toUpperCase()||"PDF"}ï¼Œå·²è‡ªåŠ¨è½¬æ¢ä¸º Word æ ¼å¼)`:"";n.success(`å·²åº”ç”¨ ${r.data.applied_count} æ¡ä¿®è®¢å»ºè®®${l}`+(r.data.not_found_count>0?`ï¼Œ${r.data.not_found_count} æ¡æœªæ‰¾åˆ°åŸæ–‡`:"")),n.info("ä¿®è®¢æ ·å¼ï¼šçº¢è‰²åˆ é™¤çº¿ = åŸæ–‡ï¼Œé»„è‰²é«˜äº®ä¸‹åˆ’çº¿ = ä¿®è®¢å†…å®¹")}else n.error("ç”Ÿæˆä¿®è®¢æ–‡æ¡£å¤±è´¥")}catch(r){console.error("åº”ç”¨ä¿®è®¢å¤±è´¥",r),n.error(r.response?.data?.detail||"åº”ç”¨ä¿®è®¢å¤±è´¥")}finally{De(!1)}},bt=t=>{ie(t?j.map(s=>s.id):[])},Rt=(t,s)=>{ie(s?[...B,t]:B.filter(r=>r!==t))},Ue=t=>{console.log("[é«˜äº®å®šä½] å°è¯•å®šä½:",t);const s=t.trim();if(!s){n.warning("å®¡æŸ¥æ„è§åŸæ–‡ä¸ºç©º");return}const r=s.replace(/[ï¼Œã€‚ï¼›ï¼šï¼ï¼Ÿã€""''ï¼ˆï¼‰ã€ã€‘ã€Šã€‹\s]/g," ").split(" ").filter(i=>i.length>1).slice(0,3),l=r.length>0?r[0]:s;if(F.current&&typeof F.current.executeMethod=="function"){console.log("[é«˜äº®å®šä½] ä½¿ç”¨ executeMethod æ–¹æ³•");try{F.current.executeMethod("SearchAndReplace",{searchString:l,replaceString:l,matchCase:!1}).then(()=>{n.success(`å·²å®šä½åˆ°å…³é”®è¯: "${l}"${r.length>1?` (å…¶ä»–: ${r.slice(1).join(", ")})`:""}`)}).catch(i=>{console.warn("[é«˜äº®å®šä½] executeMethod å¤±è´¥:",i),c()});return}catch(i){console.warn("[é«˜äº®å®šä½] executeMethod å¼‚å¸¸:",i)}}const c=()=>{if(F.current&&typeof F.current.callCommand=="function"){console.log("[é«˜äº®å®šä½] ä½¿ç”¨ callCommand æ–¹æ³•");try{F.current.callCommand(function(){if(typeof Api>"u"||!Api.GetDocument)return console.warn("[é«˜äº®å®šä½] Builder API ä¸å¯ç”¨"),-1;const i=Api.GetDocument();let a=0;const f=i.GetElementsCount(),x=r.length>0?r:[s];for(let u=0;u<f;u++){const C=i.GetElement(u),S=C.GetText?C.GetText():"";if(S){for(const h of x)if(S.indexOf(h)!==-1){const v=S.indexOf(h),G=v+h.length;if(C.GetRange){const Y=C.GetRange(v,G);a===0&&i.SetCurrentRange&&i.SetCurrentRange(Y),a++;break}}}}return a},i=>{const a=typeof i=="number"?i:0;a>0?n.success(`å·²å®šä½åˆ° ${a} å¤„ç›¸å…³å†…å®¹ï¼Œå…³é”®è¯: ${r.join(", ")}`):n.info(`æœªåœ¨æ–‡æ¡£ä¸­æ‰¾åˆ°ç²¾ç¡®åŒ¹é…ï¼Œå»ºè®®å…³é”®è¯: ${r.join(", ")}`)});return}catch(i){console.error("[é«˜äº®å®šä½] callCommand å¼‚å¸¸:",i)}}};c(),setTimeout(()=>{n.info(`ğŸ’¡ æç¤ºï¼šè¯·æŒ‰ Ctrl+F åœ¨æ–‡æ¡£ä¸­æœç´¢ï¼Œå»ºè®®å…³é”®è¯: ${r.join(", ")}`)},800)},Ve=async t=>{if(y)try{const s=await _.downloadContract(y,t),r=window.URL.createObjectURL(s),l=document.createElement("a");l.href=r,l.download=t==="revised"?"ä¿®è®¢ç‰ˆåˆåŒ.docx":"åŸå§‹åˆåŒ.docx",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r),document.body.removeChild(l),n.success(t==="revised"?"ä¿®è®¢ç‰ˆæ–‡ä»¶ä¸‹è½½æˆåŠŸ":"åŸå§‹æ–‡ä»¶ä¸‹è½½æˆåŠŸ")}catch(s){console.error("ä¸‹è½½å¤±è´¥",s),n.error(s.response?.data?.detail||"ä¸‹è½½å¤±è´¥")}},Ct=[{key:"original",label:"ä¸‹è½½åŸå§‹æ–‡ä»¶",icon:e.jsx(Re,{}),onClick:()=>Ve("original")},{key:"revised",label:"ä¸‹è½½ä¿®è®¢ç‰ˆæ–‡ä»¶",icon:e.jsx(Re,{}),onClick:()=>Ve("revised")}],It=t=>{Gt.office?.("ONLYOFFICE Ready!");try{const s=t?.docEditor?.createConnector?.();F.current=s??null}catch(s){console.error("åˆ›å»º connector å¤±è´¥",s),F.current=null}},Ge=()=>j.filter(t=>t.entity_risk),Tt=()=>({Critical:j.filter(t=>t.severity==="Critical").length,High:j.filter(t=>t.severity==="High").length,Medium:j.filter(t=>t.severity==="Medium").length,Low:j.filter(t=>t.severity==="Low").length}),Bt=()=>{const t={};return j.forEach(s=>{const r=s.issue_type;t[r]=(t[r]||0)+1}),Object.entries(t).sort((s,r)=>r[1]-s[1])},qe=()=>j.filter(t=>t.severity==="Critical"||t.severity==="High"),Ke=()=>j.filter(t=>t.action_type==="Alert"),$t=()=>{const t=H(g.parties);t.push(""),p({...g,parties:t})},zt=(t,s)=>{const r=H(g.parties);r[t]=s,p({...g,parties:r})},Et=t=>{const s=H(g.parties);s.splice(t,1),p({...g,parties:s})},At=()=>{const t=Tt(),s=Bt();return e.jsxs("div",{style:{padding:"16px 0"},children:[e.jsxs(ot,{gutter:24,style:{marginBottom:24},children:[e.jsx(te,{span:12,children:e.jsx(R,{title:"é£é™©ç­‰çº§åˆ†å¸ƒ",bordered:!1,children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:16},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"#ff4d4f"},children:t.Critical}),e.jsx("div",{style:{color:"#666"},children:"æä¸¥é‡"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"#faad14"},children:t.High}),e.jsx("div",{style:{color:"#666"},children:"é«˜é£é™©"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"#1890ff"},children:t.Medium}),e.jsx("div",{style:{color:"#666"},children:"ä¸­ç­‰"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:32,fontWeight:"bold",color:"#52c41a"},children:t.Low}),e.jsx("div",{style:{color:"#666"},children:"è½»å¾®"})]})]})})}),e.jsx(te,{span:12,children:e.jsx(R,{title:"é—®é¢˜ç±»å‹åˆ†å¸ƒ",bordered:!1,children:e.jsx("div",{style:{marginTop:16},children:s.slice(0,5).map(([r,l])=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,padding:"8px 12px",background:"#f5f5f5",borderRadius:"4px"},children:[e.jsx("span",{children:r}),e.jsx(d,{color:"blue",children:l})]},r))})})})]}),e.jsx($,{message:"æ“ä½œå»ºè®®",description:e.jsxs("div",{children:[e.jsx("p",{children:"1. ä¼˜å…ˆå¤„ç†æä¸¥é‡å’Œé«˜é£é™©é—®é¢˜"}),e.jsx("p",{children:'2. æŸ¥çœ‹"ä¿®æ”¹æ„è§"æ ‡ç­¾é¡µåº”ç”¨å…·ä½“ä¿®è®¢å»ºè®®'}),e.jsx("p",{children:'3. å…³æ³¨"ä¸»ä½“é£é™©"æ ‡ç­¾é¡µä¸­çš„äº¤æ˜“æ–¹é£é™©ä¿¡æ¯'}),e.jsx("p",{children:"4. å¯¹äºç¼ºå¤±æ¡æ¬¾ï¼Œè€ƒè™‘ä¸å¯¹æ–¹åå•†è¡¥å……"})]}),type:"info",showIcon:!0})]})},Mt=()=>e.jsxs("div",{children:[e.jsx($,{message:`å…±å‘ç° ${j.length} ä¸ªé£é™©ç‚¹ï¼Œå·²é€‰ ${B.length} æ¡`,type:j.some(t=>t.action_type==="Alert")?"warning":"info",style:{marginBottom:16}}),e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap"},children:[e.jsx(ee,{checked:B.length===j.length&&j.length>0,indeterminate:B.length>0&&B.length<j.length,onChange:t=>bt(t.target.checked),children:"å…¨é€‰"}),e.jsxs(m,{type:"primary",onClick:()=>_e(),disabled:B.length===0||Q,loading:Q,icon:e.jsx(tt,{}),children:["åº”ç”¨é€‰å®šä¿®è®¢ (",B.length,")"]}),e.jsx(m,{onClick:()=>_e(j.map(t=>t.id)),disabled:Q,loading:Q,children:"å…¨éƒ¨åº”ç”¨"}),e.jsx(qt,{menu:{items:Ct},trigger:["click"],children:e.jsx(m,{icon:e.jsx(Re,{}),children:"ä¸‹è½½æ–‡ä»¶"})})]}),j.map(t=>e.jsx(R,{style:{marginBottom:12,border:B.includes(t.id)?"2px solid #1890ff":void 0},className:"risk-card",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsx(ee,{checked:B.includes(t.id),onChange:s=>Rt(t.id,s.target.checked)}),e.jsxs("div",{style:{flex:1,marginLeft:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[e.jsx("strong",{children:t.issue_type}),e.jsx(d,{color:t.severity==="Critical"?"red":t.severity==="High"?"orange":"blue",children:t.severity}),t.action_type==="Alert"&&e.jsx(d,{color:"red",children:"ä¸¥é‡è­¦å‘Š"}),t.entity_risk&&e.jsxs(d,{color:t.entity_risk.risk_level==="High"?"red":t.entity_risk.risk_level==="Medium"?"orange":"default",icon:e.jsx(de,{}),children:["ä¸»ä½“é£é™©: ",t.entity_risk.risk_level]}),t.related_entities&&t.related_entities.length>0&&e.jsxs(d,{color:"cyan",icon:e.jsx(be,{}),children:["æ¶‰åŠ: ",t.related_entities.join(", ")]})]}),e.jsxs("div",{style:{background:"#f5f5f5",padding:"8px",borderRadius:"4px",margin:"8px 0",cursor:"pointer",fontSize:"13px",border:"1px dashed #d9d9d9"},onClick:()=>Ue(t.quote),title:"ç‚¹å‡»åœ¨åŸæ–‡ä¸­å®šä½",children:[e.jsx(Kt,{style:{marginRight:4}}),e.jsx("strong",{children:"åŸæ–‡ï¼š"}),t.quote]}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:4},children:[e.jsx("strong",{children:"é£é™©è¯´æ˜ï¼š"}),t.explanation]}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:8},children:[e.jsx("strong",{children:"ä¿®æ”¹å»ºè®®ï¼š"}),t.suggestion]}),t.legal_basis&&e.jsxs("div",{style:{fontSize:"13px",marginBottom:8,background:"#f0f5ff",padding:"6px 8px",borderRadius:"4px"},children:[e.jsx("strong",{style:{color:"#1890ff"},children:"å®¡æŸ¥ä¾æ®ï¼š"}),e.jsx("span",{style:{color:"#666"},children:t.legal_basis})]}),t.entity_risk&&e.jsx(it,{ghost:!0,style:{marginBottom:8},children:e.jsx(fs,{header:e.jsxs("span",{style:{color:"#ff4d4f",fontWeight:"bold"},children:[e.jsx(de,{style:{marginRight:4}}),"ä¸»ä½“é£é™©è¯¦æƒ… (",t.entity_risk.entity_name,")"]}),children:e.jsxs("div",{style:{padding:"8px 0",fontSize:"13px"},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("strong",{children:"é£é™©ç­‰çº§ï¼š"}),e.jsx(st,{status:t.entity_risk.risk_level==="High"?"error":t.entity_risk.risk_level==="Medium"?"warning":"default",text:t.entity_risk.risk_level})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("strong",{children:"ä¸»ä½“ç±»å‹ï¼š"}),e.jsx("span",{children:t.entity_risk.entity_type})]}),t.entity_risk.risk_items&&t.entity_risk.risk_items.length>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"é£é™©è¯¦æƒ…ï¼š"}),e.jsx("ul",{style:{margin:"8px 0",paddingLeft:20},children:t.entity_risk.risk_items.map((s,r)=>e.jsxs("li",{children:[e.jsx(d,{color:"red",style:{marginBottom:4},children:s.type}),e.jsx("div",{children:s.description}),e.jsx("div",{style:{color:"#999",fontSize:"12px"},children:s.detail})]},r))})]})]})},"entity-risk")}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx(m,{size:"small",type:"primary",onClick:()=>_e([t.id]),disabled:Q,children:"é‡‡çº³å¹¶åº”ç”¨"}),e.jsx(m,{size:"small",icon:e.jsx(et,{}),onClick:()=>St(t),children:"ç¼–è¾‘"})]})]})]})},t.id))]}),Pt=()=>{const t=qe();return t.length===0?e.jsx($,{message:"æš‚æ— äº‰è®®ç„¦ç‚¹",description:"æœªå‘ç°æä¸¥é‡æˆ–é«˜é£é™©çš„äº‰è®®ç‚¹",type:"success",showIcon:!0}):e.jsxs("div",{children:[e.jsx($,{message:`å‘ç° ${t.length} å¤„äº‰è®®ç„¦ç‚¹ï¼ˆæä¸¥é‡æˆ–é«˜é£é™©ï¼‰`,type:"error",showIcon:!0,style:{marginBottom:16}}),t.map(s=>e.jsxs(R,{style:{marginBottom:12,borderLeft:"4px solid #ff4d4f"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx(d,{color:s.severity==="Critical"?"red":"orange",children:s.severity}),e.jsx("strong",{children:s.issue_type})]}),e.jsx("div",{style:{background:"#fff1f0",padding:"8px",borderRadius:"4px",marginBottom:8},children:e.jsxs("div",{style:{fontSize:"13px"},children:[e.jsx("strong",{children:"åŸæ–‡ï¼š"}),s.quote]})}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:4},children:[e.jsx("strong",{children:"é£é™©è¯´æ˜ï¼š"}),s.explanation]}),e.jsxs("div",{style:{fontSize:"13px",color:"#666"},children:[e.jsx("strong",{children:"ä¿®æ”¹å»ºè®®ï¼š"}),s.suggestion]})]},s.id))]})},Ot=()=>{const t=Ke();return t.length===0?e.jsx($,{message:"åˆåŒæ¡æ¬¾å®Œå¤‡",description:"æœªå‘ç°ç¼ºå¤±çš„é‡è¦æ¡æ¬¾",type:"success",showIcon:!0}):e.jsxs("div",{children:[e.jsx($,{message:`å‘ç° ${t.length} å¤„ç¼ºå¤±æˆ–éœ€è¦è¡¥å……çš„æ¡æ¬¾`,type:"warning",showIcon:!0,style:{marginBottom:16}}),t.map(s=>e.jsxs(R,{style:{marginBottom:12,borderLeft:"4px solid #faad14"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[e.jsx(d,{color:"orange",children:"ç¼ºå¤±æ¡æ¬¾"}),e.jsx("strong",{children:s.issue_type})]}),e.jsxs("div",{style:{fontSize:"13px",marginBottom:8},children:[e.jsx("strong",{children:"é£é™©è¯´æ˜ï¼š"}),s.explanation]}),e.jsxs("div",{style:{fontSize:"13px",color:"#666"},children:[e.jsx("strong",{children:"å»ºè®®è¡¥å……ï¼š"}),s.suggestion]})]},s.id))]})},Lt=()=>{const t=Ge();if(t.length===0)return e.jsx($,{message:"æœªå‘ç°ä¸»ä½“é£é™©",description:"å®¡æŸ¥ç»“æœä¸­æœªæ¶‰åŠä¸»ä½“é£é™©ä¿¡æ¯",type:"success",showIcon:!0});const s={};return t.forEach(r=>{if(r.entity_risk){const l=r.entity_risk.entity_name;s[l]||(s[l]=[]),s[l].push(r)}}),e.jsxs("div",{children:[e.jsx($,{message:`å‘ç° ${Object.keys(s).length} ä¸ªä¸»ä½“å­˜åœ¨é£é™©`,type:"warning",showIcon:!0,style:{marginBottom:16}}),Object.entries(s).map(([r,l])=>e.jsxs(R,{style:{marginBottom:16},title:e.jsxs("span",{style:{color:"#ff4d4f"},children:[e.jsx(be,{style:{marginRight:8}}),r]}),children:[l[0].entity_risk&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx("strong",{children:"ä¸»ä½“ç±»å‹ï¼š"}),e.jsx(d,{children:l[0].entity_risk.entity_type})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"é£é™©ç­‰çº§ï¼š"}),e.jsx(st,{status:l[0].entity_risk.risk_level==="High"?"error":"warning",text:l[0].entity_risk.risk_level})]})]}),e.jsx("div",{style:{fontWeight:"bold",marginBottom:8},children:"ç›¸å…³é£é™©ç‚¹ï¼š"}),l.map(c=>e.jsxs("div",{style:{padding:"8px 12px",background:"#f5f5f5",borderRadius:"4px",marginBottom:8,cursor:"pointer"},onClick:()=>{ve("suggestions"),setTimeout(()=>Ue(c.quote),100)},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx(d,{color:c.severity==="Critical"?"red":c.severity==="High"?"orange":"blue",children:c.severity}),e.jsx("span",{children:c.issue_type})]}),e.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:4},children:c.explanation})]},c.id))]},r))]})},Ft=()=>e.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"ğŸ”„"}),e.jsx("h3",{children:"é‡æ–°å®¡æŸ¥"}),e.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"å¦‚æœä¿®æ”¹äº†åˆåŒå†…å®¹æˆ–è°ƒæ•´äº†å®¡æŸ¥å‚æ•°ï¼Œå¯ä»¥é‡æ–°å¯åŠ¨å®¡æŸ¥"}),e.jsxs(ce,{children:[e.jsx(m,{type:"primary",onClick:Ne,children:"é‡æ–°å®¡æŸ¥"}),e.jsx(m,{onClick:()=>{M("metadata")},children:"è°ƒæ•´å®¡æŸ¥å‚æ•°"})]})]});return e.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx(Jt,{currentModuleKey:"contract-review"}),lt&&e.jsxs("div",{style:{background:"#fff7e6",borderBottom:"1px solid #ffd591",padding:"12px 24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(de,{style:{fontSize:"18px",color:"#fa8c16"}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500,color:"#d46b08"},children:"æ£€æµ‹åˆ°ä¸Šæ¬¡çš„æœªå®Œæˆä»»åŠ¡"}),e.jsxs("div",{style:{fontSize:"12px",color:"#8c8c8c"},children:[J?.metadata?.contract_name||`åˆåŒ #${J?.savedContractId}`," - çŠ¶æ€: ",J?.status==="completed"?"å·²å®Œæˆ":"è¿›è¡Œä¸­"]})]})]}),e.jsxs(ce,{children:[e.jsx(m,{size:"small",onClick:He,children:"å¼€å§‹æ–°ä»»åŠ¡"}),e.jsx(m,{type:"primary",size:"small",onClick:mt,children:"ç»§ç»­ä¸Šæ¬¡ä»»åŠ¡"})]})]}),e.jsxs("div",{className:"review-container",children:[e.jsx("div",{className:"editor-area",children:(function(){return console.log("ğŸ” æ¸²æŸ“æ£€æŸ¥ - showUploadProgress:",X,"uploadProgressRef.current:",b.current,"editorConfig:",!!w,"metadataExtracted:",ne),X||b.current})()?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px",textAlign:"center",background:"#f5f5f5"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"ğŸ“¤"}),e.jsx("h3",{style:{marginBottom:"16px"},children:"æ–‡ä»¶å·²ä¸Šä¼ ï¼"}),e.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"æ­£åœ¨è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œè¯·ç¨å€™..."}),e.jsxs("div",{style:{padding:"16px 24px",background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",maxWidth:"400px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.jsx("div",{className:"ant-spin ant-spin-spinning",style:{display:"inline-block"},children:e.jsxs("span",{className:"ant-spin-dot ant-spin-dot-spin",children:[e.jsx("i",{}),e.jsx("i",{}),e.jsx("i",{}),e.jsx("i",{})]})}),e.jsx("strong",{children:"æ­£åœ¨åå°å¤„ç†ï¼š"})]}),e.jsxs("div",{style:{textAlign:"left",fontSize:"14px",marginLeft:"24px"},children:[e.jsx("div",{children:"âœ“ æ–‡ä»¶å·²ä¸Šä¼ "}),e.jsx("div",{style:{opacity:.7},children:"âŸ³ æ ¼å¼è½¬æ¢ä¸­..."}),e.jsx("div",{style:{opacity:.5},children:"â—‹ ç”Ÿæˆé¢„è§ˆ..."})]})]}),e.jsx("div",{style:{marginTop:"20px",fontSize:"12px",color:"#999"},children:"é¢„è®¡å¤„ç†æ—¶é—´ï¼š10-30ç§’ï¼ˆæ ¹æ®æ–‡ä»¶å¤§å°ï¼‰"})]}):w&&ne?e.jsx(Xt,{id:"docxEditor",documentServerUrl:"/onlyoffice",config:w,events_onDocumentReady:It,height:"100%",width:"100%"}):w?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",padding:"40px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"ğŸ“„"}),e.jsx("h3",{style:{marginBottom:"16px"},children:"æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼"}),e.jsx("p",{style:{color:"#666",marginBottom:"24px"},children:"æ­£åœ¨æå–åˆåŒå…ƒæ•°æ®ï¼Œè¯·ç¨å€™..."}),e.jsxs("div",{style:{padding:"16px 24px",background:"#e6f7ff",border:"1px solid #91d5ff",borderRadius:"4px",color:"#1890ff",maxWidth:"400px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("div",{className:"ant-spin ant-spin-spinning",style:{display:"inline-block"},children:e.jsxs("span",{className:"ant-spin-dot ant-spin-dot-spin",children:[e.jsx("i",{}),e.jsx("i",{}),e.jsx("i",{}),e.jsx("i",{})]})}),e.jsx("strong",{children:"æ­£åœ¨åå°å¤„ç†ï¼š"})]}),e.jsxs("div",{style:{textAlign:"left",fontSize:"14px",marginLeft:"24px"},children:[e.jsx("div",{children:"âœ“ æ–‡ä»¶å·²ä¸Šä¼ "}),e.jsx("div",{style:{opacity:.7},children:"âŸ³ æ ¼å¼è½¬æ¢ä¸­..."}),e.jsx("div",{style:{opacity:.5},children:"â—‹ ç”Ÿæˆé¢„è§ˆ..."})]})]}),e.jsx("p",{style:{fontSize:"12px",color:"#999",marginTop:"16px"},children:"é¢„è®¡éœ€è¦ 10-30 ç§’ï¼Œå¤„ç†å®Œæˆåå°†è‡ªåŠ¨æ˜¾ç¤ºç¼–è¾‘å™¨"})]}):e.jsxs("div",{className:"upload-placeholder",children:[e.jsxs("label",{style:{cursor:"pointer",color:"#1890ff",fontSize:"18px"},children:["ç‚¹å‡»ä¸Šä¼ åˆåŒæ–‡ä»¶",e.jsx("br",{}),e.jsxs("span",{style:{fontSize:"14px",color:"#999"},children:["æ”¯æŒæ ¼å¼ï¼šæ–‡æ¡£ (.doc/.docx/.pdf/.txt/.rtf/.odt)",e.jsx("br",{}),"æ”¯æŒæ ¼å¼ï¼šå›¾ç‰‡ (.jpg/.png/.bmp/.tiff/.gif) - OCR è¯†åˆ«",e.jsx("br",{}),"é .docx æ ¼å¼å°†è‡ªåŠ¨è½¬æ¢ä¸º Word æ ¼å¼"]}),e.jsx("input",{type:"file",accept:".doc,.docx,.pdf,.txt,.rtf,.odt,.jpg,.jpeg,.png,.bmp,.tiff,.gif",onChange:_t,style:{display:"none"}})]}),K&&e.jsx("div",{className:"spin",children:"ä¸Šä¼ å¤„ç†ä¸­..."})]})}),e.jsxs("div",{className:"ai-sidebar",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx("h3",{style:{margin:0},children:"âš–ï¸ æ™ºèƒ½åˆåŒå®¡æŸ¥ï¼ˆå‡çº§ç‰ˆï¼‰"}),e.jsx(m,{type:"link",icon:e.jsx(Qe,{}),onClick:()=>k("/contract/review-history"),style:{padding:0},children:"å†å²ä»»åŠ¡"})]}),e.jsx(Qt,{moduleName:"contract_review",moduleLabel:"åˆåŒå®¡æŸ¥"}),e.jsx(R,{title:e.jsxs("span",{children:[e.jsx(Ht,{style:{marginRight:8}}),"è‡ªå®šä¹‰å®¡æŸ¥è§„åˆ™"]}),size:"small",style:{marginBottom:16},extra:e.jsx(m,{size:"small",icon:e.jsx(Ye,{}),onClick:()=>Pe(!0),children:"ç®¡ç†è§„åˆ™"}),children:e.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[e.jsxs("div",{children:["å·²åˆ›å»º ",Me," æ¡è‡ªå®šä¹‰è§„åˆ™"]}),Me>0&&e.jsx("div",{style:{marginTop:4},children:e.jsx(ee,{checked:Ae,onChange:t=>at(t.target.checked),children:"æœ¬æ¬¡å®¡æŸ¥å¯ç”¨"})})]})}),z==="metadata"&&e.jsxs(R,{title:"è¯·ç¡®è®¤åˆåŒåŸºæœ¬ä¿¡æ¯",style:{marginBottom:16},children:[e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("strong",{children:"å®¡æŸ¥ç«‹åœºï¼š"}),e.jsxs(ke,{value:se,onChange:t=>$e(t),style:{width:120},children:[e.jsx(ke.Option,{value:"ç”²æ–¹",children:"ç”²æ–¹"}),e.jsx(ke.Option,{value:"ä¹™æ–¹",children:"ä¹™æ–¹"})]})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("strong",{children:"åˆåŒç±»å‹ï¼š"}),e.jsx(D,{value:g.contract_type||"",onChange:t=>p({...g,contract_type:t.target.value}),placeholder:"å¦‚ï¼šæœåŠ¡åˆåŒ",disabled:!0})]}),e.jsxs("div",{style:{marginBottom:12},children:[e.jsx("strong",{children:"åˆåŒåç§°ï¼š"}),e.jsx(D,{value:g.contract_name||"",onChange:t=>p({...g,contract_name:t.target.value}),placeholder:"å¦‚ï¼šæŠ€æœ¯æœåŠ¡åˆåŒ"})]}),e.jsxs("div",{style:{margin:"8px 0"},children:[e.jsx("strong",{children:"å½“äº‹äººï¼š"}),H(g.parties).map((t,s)=>e.jsxs("div",{className:"party-row",style:{display:"flex",gap:8,marginTop:8},children:[e.jsx(D,{value:t,onChange:r=>zt(s,r.target.value),placeholder:`å½“äº‹äºº ${s+1}`,style:{flex:1}}),H(g.parties).length>1&&e.jsx(m,{danger:!0,type:"text",onClick:()=>Et(s),icon:e.jsx(rt,{}),children:"åˆ é™¤"})]},s)),e.jsx("div",{style:{marginTop:8},children:e.jsx(m,{type:"dashed",onClick:$t,icon:e.jsx(Ze,{}),children:"æ·»åŠ å½“äº‹äºº"})})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"åˆåŒé‡‘é¢ï¼š"}),e.jsx(D,{value:g.amount||"",onChange:t=>p({...g,amount:t.target.value})})]}),g.legal_features?.transaction_structures&&g.legal_features.transaction_structures.length>0&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[e.jsxs("strong",{children:[e.jsx(Ye,{style:{marginRight:4}}),"ç¡®è®¤æœ¬æ¬¡äº¤æ˜“ç»“æ„ (å¯å¤šé€‰)"]}),e.jsx(d,{color:"blue",children:"AIå»ºè®®"})]}),e.jsx(ee.Group,{style:{width:"100%"},value:oe,onChange:t=>Oe(t),children:e.jsx(ce,{direction:"vertical",style:{width:"100%"},children:g.legal_features.transaction_structures.map(t=>e.jsx(ee,{value:t,children:t},t))})}),e.jsx("div",{style:{marginTop:8,fontSize:"12px",color:"#999"},children:"ğŸ’¡ æç¤ºï¼šé€‰æ‹©äº¤æ˜“ç»“æ„åï¼Œç³»ç»Ÿå°†åŠ è½½å¯¹åº”çš„ä¸“é¡¹å®¡æŸ¥è§„åˆ™"})]}),pe&&e.jsx($,{message:"æ­£åœ¨æå–åˆåŒä¿¡æ¯...",description:"AI æ­£åœ¨åˆ†æåˆåŒå†…å®¹ï¼Œæå–å½“äº‹äººã€é‡‘é¢ã€ç±»å‹ç­‰å…³é”®ä¿¡æ¯ï¼Œè¯·ç¨å€™...",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx(m,{type:"primary",onClick:Ne,loading:K,disabled:pe||!ne,style:{width:"100%"},children:pe?"æ­£åœ¨æå–åˆåŒä¿¡æ¯...":ne?"å¼€å§‹æ·±åº¦å®¡æŸ¥":"ç­‰å¾…åˆåŒä¿¡æ¯æå–..."})]}),z==="reviewing"&&e.jsx(R,{children:e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[e.jsx(Nt,{size:"large"}),e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h3",{style:{marginBottom:"16px"},children:"AI æ­£åœ¨æ·±åº¦åˆ†æåˆåŒ..."}),We?e.jsx("div",{style:{padding:"16px 24px",background:"#e6f7ff",border:"1px solid #91d5ff",borderRadius:"8px",color:"#1890ff",fontSize:"16px",fontWeight:500,maxWidth:"500px",margin:"0 auto"},children:We}):e.jsx("p",{style:{color:"#666"},children:"è¯·è€å¿ƒç­‰å¾…ï¼ˆé€šå¸¸éœ€è¦ 10-30 ç§’ï¼‰"})]}),e.jsx("div",{style:{marginTop:"24px",fontSize:"14px",color:"#999"},children:"æ­£åœ¨æ‰§è¡Œï¼šè§„åˆ™åŠ è½½ â†’ æ¡æ¬¾åˆ†æ â†’ é£é™©è¯†åˆ« â†’ æŠ¥å‘Šç”Ÿæˆ"})]})}),z==="results"&&e.jsxs("div",{className:"review-results-container",children:[e.jsx(us,{contractId:y}),e.jsx(R,{style:{marginTop:16},children:e.jsx(Ut,{activeKey:ht,onChange:ve,type:"card",size:"large",items:[{key:"overview",label:e.jsxs("span",{children:[e.jsx(Vt,{}),"ç»¼åˆè¯„ä¼°"]}),children:At()},{key:"suggestions",label:e.jsxs("span",{children:[e.jsx(et,{}),"ä¿®æ”¹æ„è§",e.jsx(d,{color:"blue",style:{marginLeft:4},children:j.length})]}),children:Mt()},{key:"controversy",label:e.jsxs("span",{children:[e.jsx(cs,{}),"äº‰è®®ç„¦ç‚¹",e.jsx(d,{color:"red",style:{marginLeft:4},children:qe().length})]}),children:Pt()},{key:"missing",label:e.jsxs("span",{children:[e.jsx(is,{}),"ç¼ºå¤±æ¡æ¬¾",e.jsx(d,{color:"orange",style:{marginLeft:4},children:Ke().length})]}),children:Ot()},{key:"entity",label:e.jsxs("span",{children:[e.jsx(be,{}),"ä¸»ä½“é£é™©",e.jsx(d,{color:"cyan",style:{marginLeft:4},children:Ge().length})]}),children:Lt()},{key:"re-review",label:e.jsxs("span",{children:[e.jsx(Qe,{}),"é‡å®¡"]}),children:Ft()}]})})]})]}),e.jsx(Ce,{title:"ç¼–è¾‘å®¡æŸ¥æ„è§",open:ft,onOk:kt,onCancel:()=>me(!1),width:600,okText:"ä¿å­˜",cancelText:"å–æ¶ˆ",children:O&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"é—®é¢˜ç±»å‹ï¼š"}),e.jsx(d,{color:O.severity==="Critical"?"red":O.severity==="High"?"orange":"blue",children:O.issue_type})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"åŸæ–‡ï¼š"}),e.jsx("div",{style:{background:"#f5f5f5",padding:"8px",borderRadius:"4px",marginTop:4},children:O.quote})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"é£é™©è¯´æ˜ï¼š"}),e.jsx(Ie,{value:ye,onChange:t=>Le(t.target.value),rows:3,placeholder:"è¯·è¾“å…¥é£é™©è¯´æ˜"})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("strong",{children:"ä¿®æ”¹å»ºè®®ï¼š"}),e.jsx(Ie,{value:je,onChange:t=>Fe(t.target.value),rows:3,placeholder:"è¯·è¾“å…¥ä¿®æ”¹å»ºè®®"})]})]})}),e.jsxs(Ce,{title:"è‡ªå®šä¹‰å®¡æŸ¥è§„åˆ™ç®¡ç†",open:dt,onCancel:()=>Pe(!1),footer:null,width:800,children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(m,{type:"primary",icon:e.jsx(Ze,{}),onClick:()=>{he.resetFields(),he.setFieldsValue({is_active:!0,priority:0}),xe(!0)},style:{marginRight:8},children:"æ–°å»ºè§„åˆ™"}),e.jsx(m,{onClick:ae,children:"åˆ·æ–°"})]}),e.jsx(ts,{dataSource:pt,rowKey:"id",pagination:!1,size:"small",columns:[{title:"åç§°",dataIndex:"name",key:"name",ellipsis:!0},{title:"æè¿°",dataIndex:"description",key:"description",ellipsis:!0},{title:"ä¼˜å…ˆçº§",dataIndex:"priority",key:"priority",width:70},{title:"çŠ¶æ€",dataIndex:"is_active",key:"is_active",width:70,render:t=>t?e.jsx(d,{color:"success",icon:e.jsx(tt,{}),children:"å¯ç”¨"}):e.jsx(d,{color:"default",icon:e.jsx(ss,{}),children:"ç¦ç”¨"})},{title:"æ“ä½œ",key:"actions",width:150,render:(t,s)=>e.jsxs(ce,{size:"small",children:[e.jsx(m,{type:"text",size:"small",onClick:()=>vt(s.id),children:s.is_active?"ç¦ç”¨":"å¯ç”¨"}),e.jsx(ns,{title:"ç¡®å®šåˆ é™¤æ­¤è§„åˆ™å—ï¼Ÿ",onConfirm:()=>jt(s.id),okText:"ç¡®å®š",cancelText:"å–æ¶ˆ",children:e.jsx(m,{type:"text",size:"small",danger:!0,icon:e.jsx(rt,{}),children:"åˆ é™¤"})})]})}]})]}),e.jsx(Ce,{title:"åˆ›å»ºè‡ªå®šä¹‰è§„åˆ™",open:gt,onCancel:()=>xe(!1),footer:null,width:600,children:e.jsxs(W,{form:he,layout:"vertical",onFinish:yt,children:[e.jsx(W.Item,{label:"è§„åˆ™åç§°",name:"name",rules:[{required:!0,message:"è¯·è¾“å…¥è§„åˆ™åç§°"}],children:e.jsx(D,{placeholder:"å¦‚ï¼šä»·æ ¼åˆç†æ€§å®¡æŸ¥"})}),e.jsx(W.Item,{label:"è§„åˆ™æè¿°",name:"description",children:e.jsx(D,{placeholder:"ç®€è¦æè¿°æ­¤è§„åˆ™çš„ç”¨é€”"})}),e.jsx(W.Item,{label:"è§„åˆ™å†…å®¹",name:"content",rules:[{required:!0,message:"è¯·è¾“å…¥è§„åˆ™å†…å®¹"}],tooltip:"è¯¦ç»†çš„å®¡æŸ¥è§„åˆ™è¯´æ˜ï¼Œå°†ç”¨äº AI å®¡æŸ¥æç¤º",children:e.jsx(Ie,{rows:6,placeholder:"è¯·è¾“å…¥è¯¦ç»†çš„å®¡æŸ¥è§„åˆ™å†…å®¹ï¼ŒåŒ…æ‹¬å®¡æŸ¥è¦ç‚¹ã€åˆ¤æ–­æ ‡å‡†ç­‰..."})}),e.jsx(W.Item,{label:"ä¼˜å…ˆçº§",name:"priority",tooltip:"æ•°å­—è¶Šå°è¶Šä¼˜å…ˆ",children:e.jsx(D,{type:"number",min:0,max:100,style:{width:"100%"}})}),e.jsx(W.Item,{children:e.jsx(m,{type:"primary",htmlType:"submit",block:!0,children:"åˆ›å»ºè§„åˆ™"})})]})})]})]})};export{Ns as default};
