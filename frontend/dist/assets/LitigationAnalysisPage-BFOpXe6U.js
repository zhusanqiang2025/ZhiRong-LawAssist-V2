import{aF as _,o as ge,r as i,j as e,e as vt,aD as A,E as te,S as u,B as x,s as m,i as v,T as Xe,H as ye,u as It,g as wt,av as qe,d as f,t as Ct,k as Fe,h as B,I as fe,aG as Ue,c as bt,C as Ge}from"./index-sxRqSD8J.js";import{E as Rt}from"./EnhancedModuleNavBar-xaUgBEAI.js";import{M as Et}from"./ModuleKnowledgeToggle-DR0CBAfR.js";import{D as Tt,E as $t}from"./EnhancedAnalysisDisplay-BRwt0U8L.js";import{D as $}from"./index-DnOyAFTj.js";import{R as At}from"./ReloadOutlined-DAf2vsLo.js";import{R as Dt}from"./DeleteOutlined-ff3SkuHt.js";import{R as se}from"./ClockCircleOutlined-h8Y4t1Qp.js";import{R as Pt}from"./CheckCircleOutlined-BuSk9l2b.js";import{u as kt}from"./useSessionPersistence-DWuzG2HT.js";import{S as Nt}from"./index-waHd0jsq.js";import{A as me,R as K}from"./DownloadOutlined-BKh_Ur4T.js";import{U as Ot}from"./index-CkY6lFAS.js";import{R as Lt}from"./InboxOutlined-BZzE62tZ.js";import{P as Be}from"./progress-uN8Nwtl0.js";import{R as We}from"./SendOutlined-Dcj6a8_n.js";import{C as Qe}from"./Collapse-TluIgjL_.js";import{D as k}from"./index-Dozc5emB.js";import{R as zt}from"./FolderOpenOutlined-XH3t9r-N.js";import{R as Mt}from"./LinkOutlined-xNwg1B82.js";import{R as he}from"./index-DZjgJgae.js";import{S as He}from"./index-k3yfUjKR.js";import{R as Je}from"./react-markdown-CLSC5Qs7.js";import"./ArrowLeftOutlined-d8neHjqY.js";import"./DiffOutlined-Di0wPK4-.js";import"./DatabaseOutlined-BuiRZVFC.js";import"./index-BXa-QjzY.js";import"./InfoCircleOutlined-Cd-DmD0r.js";import"./WarningOutlined-Z7e0PQIc.js";import"./ApartmentOutlined-BHw8SpTZ.js";import"./PaperClipOutlined-hmdMyaw1.js";import"./useBubbleLock-DGqAWK6r.js";const j="/litigation-analysis",Ft=async s=>(await _.get(`${j}/packages`,{params:s})).data,Ut=async s=>(await _.get(`${j}/packages/${s}`)).data,Gt=async s=>(await _.post(`${j}/packages`,s)).data,Bt=async(s,t)=>(await _.put(`${j}/packages/${s}`,t)).data,Wt=async s=>{await _.delete(`${j}/packages/${s}`)},Ht=async(s,t)=>{const n=new FormData;return n.append("session_id",s),t.forEach(c=>{n.append("files",c)}),(await _.post(`${j}/upload`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},Jt=async s=>(await _.post(`${j}/start`,s)).data,Vt=async s=>(await _.get(`${j}/status/${s}`)).data,Kt=async s=>(await _.get(`${j}/result/${s}`)).data,Yt=async(s,t="docx")=>{const n=await _.get(`${j}/preorganization-report/${s}`,{params:{format:t},responseType:"blob"}),l=window.URL.createObjectURL(new Blob([n.data])),c=document.createElement("a");return c.href=l,c.setAttribute("download",`litigation_preorg_${s}.${t}`),document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(l),n.data},Xt=async(s,t="docx")=>{const n=await _.get(`${j}/report/${s}/download`,{params:{format:t},responseType:"blob"}),l=window.URL.createObjectURL(new Blob([n.data])),c=document.createElement("a");return c.href=l,c.setAttribute("download",`litigation_analysis_${s}.${t}`),document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(l),n.data},qt=async s=>(await _.get(`${j}/sessions`,{params:s})).data,Qt=async s=>(await _.post(`${j}/cancel/${s}`)).data,Zt=async s=>{const t=new FormData;return t.append("preorganized_data",JSON.stringify(s.preorganized_data)),t.append("case_position",s.case_position),t.append("analysis_scenario",s.analysis_scenario),t.append("case_package_id",s.case_package_id),s.case_type&&t.append("case_type",s.case_type),s.user_input&&t.append("user_input",s.user_input),s.analysis_mode&&t.append("analysis_mode",s.analysis_mode),s.selected_model&&t.append("selected_model",s.selected_model),(await _.post(`${j}/analyze`,t,{headers:{"Content-Type":"multipart/form-data"}})).data},es=async s=>{const t=new FormData;return t.append("session_id",s.session_id),t.append("case_position",s.case_position),t.append("analysis_scenario",s.analysis_scenario),s.analysis_result&&t.append("analysis_result",JSON.stringify(s.analysis_result)),(await _.post(`${j}/generate-drafts`,t,{headers:{"Content-Type":"multipart/form-data"}})).data},L={listCasePackages:Ft,getCasePackage:Ut,createCasePackage:Gt,updateCasePackage:Bt,deleteCasePackage:Wt,uploadCaseDocuments:Ht,startCaseAnalysis:Jt,getCaseStatus:Vt,getCaseResult:Kt,downloadPreorganizationReport:Yt,downloadAnalysisReport:Xt,listCaseSessions:qt,cancelCaseAnalysis:Qt,analyzeLitigationCase:Zt,generateLitigationDocuments:es},Y="litigation_analysis_history_",ne="litigation_analysis_history_index",Ve="litigation_analysis_incomplete_count",ts=300*1e3;class ss{lastSyncTime=0;async syncHistoryList(){try{const t=Date.now();if(t-this.lastSyncTime<ts){const d=this.getFromCache();if(d&&d.length>0)return d}const n=await ge.get("/litigation-analysis/sessions",{params:{status:"pending,processing,completed"}}),c=n.data.sessions.map(d=>({session_id:d.session_id,title:d.title,timestamp:new Date(d.created_at).getTime(),status:d.status,case_type:d.case_type||"æœªçŸ¥",case_position:d.case_position||"æœªçŸ¥",is_completed:d.is_completed}));this.saveToCache(c);const p=n.data.incomplete_count||0;return this.updateIncompleteCount(p),this.lastSyncTime=t,c}catch(t){return console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] åŒæ­¥å¤±è´¥:",t),this.getFromCache()||[]}}async getIncompleteTasks(){return(await this.syncHistoryList()).filter(n=>n.status==="pending"||n.status==="processing"||n.status==="started")}async getCompletedTasks(){return(await this.syncHistoryList()).filter(n=>n.status==="completed"||n.status==="failed")}getIncompleteCount(){try{const t=localStorage.getItem(Ve);return t?parseInt(t,10):0}catch{return 0}}async loadSession(t){try{const n=await ge.get(`/litigation-analysis/result/${t}`);return await this.markAsCompleted(t),n.data}catch(n){return console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] åŠ è½½ä¼šè¯å¤±è´¥:",n),null}}async deleteSession(t){try{console.log("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] å¼€å§‹åˆ é™¤ä¼šè¯:",t);const n=await ge.delete(`/litigation-analysis/sessions/${t}`);return console.log("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] åˆ é™¤ä¼šè¯å“åº”:",n.data),this.removeFromCache(t),console.log("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] ä¼šè¯åˆ é™¤æˆåŠŸ:",t),!0}catch(n){return console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] åˆ é™¤ä¼šè¯å¤±è´¥:",n),console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] é”™è¯¯è¯¦æƒ…:",{status:n.response?.status,data:n.response?.data,message:n.message}),!1}}formatTimestamp(t){const n=new Date(t),c=new Date().getTime()-n.getTime(),p=Math.floor(c/(1e3*60*60*24));return p===0?`ä»Šå¤© ${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`:p===1?`æ˜¨å¤© ${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`:p<7?`${["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"][n.getDay()]} ${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`:`${n.getMonth()+1}æœˆ${n.getDate()}æ—¥`}saveToCache(t){try{const n=t.map(l=>l.session_id);localStorage.setItem(ne,JSON.stringify(n)),t.forEach(l=>{localStorage.setItem(`${Y}${l.session_id}`,JSON.stringify(l))})}catch(n){console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] ä¿å­˜ç¼“å­˜å¤±è´¥:",n)}}getFromCache(){try{const t=localStorage.getItem(ne);if(!t)return null;const n=JSON.parse(t),l=[];for(const c of n){const p=localStorage.getItem(`${Y}${c}`);p&&l.push(JSON.parse(p))}return l}catch{return null}}updateCacheItem(t,n){try{const l=localStorage.getItem(`${Y}${t}`);if(l){const p={...JSON.parse(l),...n};localStorage.setItem(`${Y}${t}`,JSON.stringify(p))}}catch(l){console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] æ›´æ–°ç¼“å­˜å¤±è´¥:",l)}}removeFromCache(t){try{localStorage.removeItem(`${Y}${t}`);const n=localStorage.getItem(ne);if(n){const c=JSON.parse(n).filter(p=>p!==t);localStorage.setItem(ne,JSON.stringify(c))}}catch(n){console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] ç§»é™¤ç¼“å­˜å¤±è´¥:",n)}}updateIncompleteCount(t){try{localStorage.setItem(Ve,t.toString())}catch(n){console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] æ›´æ–°æœªå®Œæˆä»»åŠ¡è®¡æ•°å¤±è´¥:",n)}}async markAsCompleted(t){try{this.updateCacheItem(t,{is_completed:!0});const n=this.getIncompleteCount();n>0&&this.updateIncompleteCount(n-1)}catch(n){console.error("[æ¡ˆä»¶åˆ†æå†å²è®°å½•ç®¡ç†å™¨] æ ‡è®°å·²å®Œæˆå¤±è´¥:",n)}}}const X=new ss,{Text:ns}=Xe,as=({visible:s,onClose:t,onLoadSession:n})=>{const[l,c]=i.useState(!1),[p,d]=i.useState([]),[C,H]=i.useState([]),I=async()=>{c(!0);try{await X.syncHistoryList(),d(await X.getIncompleteTasks()),H(await X.getCompletedTasks())}catch{m.error("åŒæ­¥å†å²è®°å½•å¤±è´¥")}finally{c(!1)}};i.useEffect(()=>{s&&I()},[s]);const J=g=>({pending:{icon:e.jsx(se,{}),color:"default",text:"å¾…å¤„ç†"},processing:{icon:e.jsx(ye,{}),color:"processing",text:"å¤„ç†ä¸­"},started:{icon:e.jsx(ye,{}),color:"processing",text:"åˆ†æä¸­"},completed:{icon:e.jsx(Pt,{}),color:"success",text:"å·²å®Œæˆ"},failed:{icon:e.jsx(se,{}),color:"error",text:"å¤±è´¥"},cancelled:{icon:e.jsx(se,{}),color:"default",text:"å·²å–æ¶ˆ"}})[g]||{icon:e.jsx(se,{}),color:"default",text:"æœªçŸ¥"},z=g=>{const b=J(g.status);return e.jsx(A.Item,{style:{cursor:"pointer"},onClick:()=>q(g.session_id),actions:[e.jsx(x,{type:"text",danger:!0,icon:e.jsx(Dt,{}),onClick:M=>{M.stopPropagation(),xe(g.session_id)}})],children:e.jsx(A.Item.Meta,{avatar:b.icon,title:e.jsx(u,{children:e.jsx("span",{children:g.title})}),description:e.jsxs(u,{direction:"vertical",size:0,children:[e.jsxs(u,{size:4,children:[e.jsx(v,{color:b.color,children:b.text}),g.case_type&&e.jsx(v,{color:"blue",children:g.case_type}),g.case_position&&e.jsx(v,{color:"purple",children:g.case_position})]}),e.jsx(ns,{type:"secondary",style:{fontSize:12},children:X.formatTimestamp(g.timestamp)})]})})},g.session_id)},q=async g=>{n(g),t()},xe=async g=>{await X.deleteSession(g)?(m.success("åˆ é™¤æˆåŠŸ"),I()):m.error("åˆ é™¤å¤±è´¥")};return e.jsx(Tt,{title:e.jsxs(u,{children:[e.jsx("span",{children:"å†å²ä»»åŠ¡"}),e.jsx(x,{type:"text",icon:e.jsx(At,{}),onClick:I,size:"small",children:"åˆ·æ–°"})]}),placement:"right",width:400,open:s,onClose:t,children:l?e.jsx("div",{style:{textAlign:"center",padding:"50px 0"},children:e.jsx(vt,{tip:"åŠ è½½ä¸­..."})}):e.jsxs(e.Fragment,{children:[e.jsxs($,{orientation:"left",children:["æœªå®Œæˆä»»åŠ¡ (",p.length,")"]}),p.length>0?e.jsx(A,{dataSource:p,renderItem:z}):e.jsx(te,{description:"æš‚æ— æœªå®Œæˆä»»åŠ¡",image:te.PRESENTED_IMAGE_SIMPLE}),e.jsx($,{orientation:"left",children:"å·²å®Œæˆä»»åŠ¡"}),C.length>0?e.jsx(A,{dataSource:C.slice(0,10),renderItem:z}):e.jsx(te,{description:"æš‚æ— å·²å®Œæˆä»»åŠ¡",image:te.PRESENTED_IMAGE_SIMPLE})]})})},rs=[{value:"contract_performance",label:"åˆåŒå±¥çº¦åˆ†æ",icon:"ğŸ“„",description:"åˆ†æåˆåŒå±¥çº¦æƒ…å†µï¼Œåˆ¶å®šè¯‰è®¼æ–¹æ¡ˆ"},{value:"complaint_defense",label:"èµ·è¯‰çŠ¶åˆ†æ",icon:"âš–ï¸",description:"åˆ†æèµ·è¯‰çŠ¶ï¼Œåˆ¶å®šåº”è¯‰ç­–ç•¥"},{value:"judgment_appeal",label:"åˆ¤å†³åˆ†æ",icon:"ğŸ“œ",description:"åˆ†æåˆ¤å†³ä¹¦ï¼Œåˆ¶å®šä¸Šè¯‰ç­–ç•¥"},{value:"evidence_preservation",label:"ä¿å…¨ç”³è¯·",icon:"ğŸ”’",description:"è´¢äº§ä¿å…¨ã€è¯æ®ä¿å…¨ç”³è¯·ç­–ç•¥"},{value:"enforcement",label:"å¼ºåˆ¶æ‰§è¡Œ",icon:"âš–ï¸",description:"åˆ¤å†³æ‰§è¡Œç­–ç•¥ã€è´¢äº§çº¿ç´¢åˆ†æ"},{value:"arbitration",label:"ä»²è£ç¨‹åº",icon:"âš–ï¸",description:"ä»²è£ç”³è¯·ã€ç­”è¾©ã€è¯æ®ç­–ç•¥"}],os={contract_performance:"contract_performance_v1",complaint_defense:"complaint_defense_v1",judgment_appeal:"judgment_appeal_v1",evidence_preservation:"evidence_preservation_v1",enforcement:"enforcement_v1",arbitration:"arbitration_v1"},is=s=>os[s]||"contract_performance_v1",Ke=[{value:"plaintiff",label:"åŸå‘Š",icon:"ğŸ‘¤"},{value:"defendant",label:"è¢«å‘Š",icon:"ğŸ‘¥"},{value:"appellant",label:"ä¸Šè¯‰äºº",icon:"ğŸ“"},{value:"appellee",label:"è¢«ä¸Šè¯‰äºº",icon:"ğŸ“„"},{value:"applicant",label:"ç”³è¯·äºº",icon:"ğŸ“‹"},{value:"respondent",label:"è¢«ç”³è¯·äºº",icon:"ğŸ“‹"},{value:"third_party",label:"ç¬¬ä¸‰äºº",icon:"ğŸ‘¥"}];var Ze=(s=>(s.CONTRACT_PERFORMANCE="contract_performance",s.COMPLAINT_DEFENSE="complaint_defense",s.JUDGMENT_APPEAL="judgment_appeal",s.EVIDENCE_PRESERVATION="evidence_preservation",s.ENFORCEMENT="enforcement",s.ARBITRATION="arbitration",s.DEBT_COLLECTION="debt_collection",s.LABOR_DISPUTE="labor_dispute",s.IP_INFRINGEMENT="ip_infringement",s.MARINE_ACCIDENT="marine_accident",s))(Ze||{});const Ye=[{value:"prosecution",label:"èµ·è¯‰æ–¹æ¡ˆ",description:"å‡†å¤‡å‘èµ·è¯‰è®¼ï¼Œéœ€è¦è¯„ä¼°å¯è¡Œæ€§å’Œè¯æ®"},{value:"defense",label:"åº”è¯‰æ–¹æ¡ˆ",description:"å·²è¢«èµ·è¯‰ï¼Œéœ€è¦å‡†å¤‡ç­”è¾©å’ŒæŠ—è¾©"},{value:"custom",label:"å…¶ä»–ï¼ˆè¯·æ‰‹åŠ¨è¾“å…¥ï¼‰",description:"è¯·å…·ä½“æè¿°æ‚¨çš„åˆ†æåœºæ™¯å’Œéœ€æ±‚"}],ls={arbitration_application:"ä»²è£ç”³è¯·ä¹¦",arbitration_award:"ä»²è£è£å†³ä¹¦",arbitration_notice:"ä»²è£é€šçŸ¥ä¹¦",arbitration_doc:"å…¶ä»–ä»²è£æ–‡ä¹¦",execution_application:"æ‰§è¡Œç”³è¯·ä¹¦",execution_order:"æ‰§è¡Œè£å®šä¹¦",execution_notice:"æ‰§è¡Œé€šçŸ¥ä¹¦",execution_doc:"å…¶ä»–æ‰§è¡Œæ–‡ä¹¦",preservation_application:"ä¿å…¨ç”³è¯·ä¹¦",complaint:"èµ·è¯‰çŠ¶",defense:"ç­”è¾©çŠ¶",appeal:"ä¸Šè¯‰çŠ¶",judgment:"åˆ¤å†³ä¹¦",ruling:"è£å®šä¹¦",mediation:"è°ƒè§£ä¹¦",evidence:"è¯æ®ææ–™",contract:"åˆåŒ/åè®®",lawyer_letter:"å¾‹å¸ˆå‡½",correspondence:"å¾€æ¥å‡½ä»¶",demand_letter:"å‚¬æ¬¾é€šçŸ¥",meeting_minutes:"ä¼šè®®çºªè¦",agreement:"åè®®/åˆåŒ",evidence_list:"è¯æ®æ¸…å•",evidence_material:"è¯æ®ææ–™",court_statement:"åº­å®¡é™ˆè¿°",mediation_statement:"è°ƒè§£ä¹¦",court_order:"æ³•é™¢é€šçŸ¥ä¹¦",other_litigation_doc:"å…¶ä»–è¯‰è®¼æ–‡æ¡£",default:"å…¶ä»–æ–‡ä¹¦"};var W=(s=>(s.PRE_LITIGATION="pre_litigation",s.DEFENSE="defense",s.APPEAL="appeal",s.EXECUTION="execution",s.PRESERVATION="preservation",s.EVIDENCE_COLLECTION="evidence_collection",s.MEDIATION="mediation",s))(W||{});const{Content:cs}=qe,{TextArea:en}=fe,{Text:y,Paragraph:ds,Title:tn}=Xe,{Dragger:ps}=Ot,{Panel:us}=Qe,sn=()=>{It();const s=i.useRef(null),t=i.useRef(null),n=i.useRef(null),l=i.useRef(0),c=5,[p,d]=i.useState(0),[C,H]=i.useState(null),[I,J]=i.useState([]),[z,q]=i.useState(!1),[xe,g]=i.useState(0),[b,M]=i.useState(0),[et,F]=i.useState(""),[R,_e]=i.useState(null),[E,je]=i.useState(null),[gs,ms]=i.useState(null),[hs,ys]=i.useState(null),[S,ae]=i.useState(null),[Se,ve]=i.useState(""),[w,Ie]=i.useState(null),[we,re]=i.useState(""),[U,tt]=i.useState(""),[Ce,st]=i.useState(""),[be,fs]=i.useState(""),[Q,xs]=i.useState(null),[G,oe]=i.useState(null),[Re,Ee]=i.useState(null),[Te,ie]=i.useState(!1),[Z,nt]=i.useState("multi"),[le,ee]=i.useState(""),[V,D]=i.useState("idle"),[at,N]=i.useState(0),[rt,O]=i.useState(""),[$e,ot]=i.useState(""),[_s,js]=i.useState(null),[it,Ae]=i.useState(!1),{sessionId:lt,saveSession:ct,clearSession:De}=kt("litigation_analysis_session",{expirationTime:3600*1e3}),T=lt||le;i.useEffect(()=>(V==="analyzing"&&T&&ke(),()=>{s.current&&s.current.close(),n.current&&clearInterval(n.current),t.current&&clearInterval(t.current)}),[V,T]);const dt=()=>{if(t.current){console.log("Polling already active");return}console.log("ğŸ”„ Starting result polling..."),t.current=setInterval(async()=>{try{const a=await L.getCaseResult(T);a.status==="completed"?(t.current&&(clearInterval(t.current),t.current=null),N(100),O("åˆ†æå®Œæˆ"),D("completed"),await Ne()):a.status==="failed"&&(t.current&&(clearInterval(t.current),t.current=null),D("failed"),m.error("åˆ†æå¤±è´¥"))}catch(a){console.error("Polling error:",a)}},5e3)},Pe=()=>{if(l.current<c){l.current++;const a=Math.min(1e3*Math.pow(2,l.current),3e4);console.log(`ğŸ”„ Reconnecting in ${a}ms (attempt ${l.current}/${c})...`),setTimeout(()=>{V==="analyzing"&&ke()},a)}else console.log("âŒ Max reconnection attempts reached, switching to polling"),dt()},ke=()=>{const a=`${wt()}/api/v1/litigation-analysis/ws/${T}`;console.log(`ğŸ”Œ Connecting to WebSocket: ${a}`),s.current=new WebSocket(a),s.current.onopen=()=>{console.log("âœ… WebSocket connected"),l.current=0,t.current&&(clearInterval(t.current),t.current=null),n.current=setInterval(()=>{s.current?.readyState===WebSocket.OPEN&&(s.current.send(JSON.stringify({type:"ping"})),console.log("ğŸ’“ WebSocket ping sent"))},3e4)},s.current.onmessage=r=>{try{const o=JSON.parse(r.data);if(o.type==="pong"){console.log("ğŸ’“ WebSocket pong received");return}pt(o)}catch(o){console.error("WS Parse Error",o)}},s.current.onerror=r=>{console.error("âŒ WebSocket error:",r),n.current&&(clearInterval(n.current),n.current=null),Pe()},s.current.onclose=()=>{console.log("ğŸ”Œ WebSocket closed"),n.current&&(clearInterval(n.current),n.current=null),V==="analyzing"&&Pe()}},pt=a=>{a.type==="node_progress"?(N(Math.round(a.progress*100)),O(a.message),ot(a.node)):a.type==="preorganization_completed"||(a.type==="complete"?(N(100),O("åˆ†æå®Œæˆ"),D("completed"),Ne()):a.type==="error"&&(D("failed"),m.error(a.message||"åˆ†æå¤±è´¥")))},Ne=async()=>{try{const r=await L.getCaseResult(T),o={session_id:r.session_id||T,status:r.status||"completed",case_type:r.case_type||C||"contract_performance",case_position:r.case_position||S||"unknown",analysis_scenario:r.analysis_scenario||Q||W.PRE_LITIGATION,assembled_rules:r.assembled_rules||[],timeline:r.timeline||{events:[]},evidence_analysis:r.evidence_analysis||{admissibility_assessment:"",analysis_points:[]},model_results:r.model_results||{final_strength:0,confidence:0,final_summary:r.case_summary||"æ— æ‘˜è¦",final_facts:[],final_legal_arguments:[],rule_application:[],final_strengths:[],final_weaknesses:[],conclusion:""},strategies:r.strategies||[],final_report:r.final_report||r.case_summary||"æ— æŠ¥å‘Š",report_json:r.report_json||{meta:{generated_at:new Date().toISOString(),case_type:C||"contract_performance",scenario:Q||W.PRE_LITIGATION,draft_documents_available:!1},dashboard:{win_rate:r.win_probability?r.win_probability*100:0,confidence:0,key_facts_count:0,risk_count:0,strategies_count:0},content:{summary:r.case_summary||"",facts:[],timeline:[],strategies:[]}},completed_at:r.completed_at||new Date().toISOString()};ct(T,{step:3,inferredCaseType:C,uploadedFiles:I.map(h=>h.name),preorganizationResult:R,enhancedAnalysisData:E,litigationPosition:S,analysisGoal:w,customGoal:we,backgroundInfo:U,focusPoints:Ce,analysisScenario:Q,analysisStatus:"completed",analysisProgress:100,stage2Result:o}),oe(o),d(3),m.success("æ·±åº¦åˆ†æå®Œæˆï¼")}catch(a){console.error("è·å–ç»“æœå¤±è´¥:",a),m.error("è·å–åˆ†æç»“æœå¤±è´¥"),D("failed")}},ut=async()=>{if(I.length===0){m.warning("è¯·è‡³å°‘ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶");return}q(!0),g(0),F("æ­£åœ¨å‡†å¤‡ä¸Šä¼ æ–‡ä»¶...");const a=setInterval(()=>{g(h=>h>=90?90:h+10)},200),r=new FormData;I.forEach(h=>r.append("files",h)),r.append("case_type","contract_performance"),F("æ­£åœ¨ä¸Šä¼ æ–‡ä»¶..."),g(100),clearInterval(a),F("æ­£åœ¨åˆ†ææ–‡æ¡£ç±»å‹å’Œå†…å®¹..."),M(30);const o=setInterval(()=>{M(h=>h>=80?80:h+5)},2e3);try{const h=await _.post("/litigation-analysis/preorganize",r,{headers:{"Content-Type":"multipart/form-data"}});clearInterval(o);const P=h.data;M(90),F("æ­£åœ¨æ•´ç†åˆ†æç»“æœ..."),_e(P),P.enhanced_analysis_compatible&&je(P.enhanced_analysis_compatible),H(Ze.CONTRACT_PERFORMANCE),ee(P.session_id),M(100),F("é¢„æ•´ç†å®Œæˆï¼"),setTimeout(()=>{d(1),m.success("æ–‡æ¡£é¢„æ•´ç†å®Œæˆï¼")},500)}catch(h){clearInterval(o),console.error("Preorganization failed:",h),F("é¢„æ•´ç†å¤±è´¥"),m.error("æ–‡æ¡£é¢„æ•´ç†å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{q(!1)}},gt=async()=>{if(!S){m.warning("è¯·é€‰æ‹©è¯‰è®¼åœ°ä½");return}if(!w){m.warning("è¯·é€‰æ‹©åˆ†æç«‹åœº");return}D("analyzing"),N(0),O("æ­£åœ¨å¯åŠ¨åˆ†æ..."),d(2);try{const a=C||"contract_performance";let r;w==="prosecution"?r=W.PRE_LITIGATION:w==="defense"?r=W.DEFENSE:r=W.MEDIATION;const o=is(a),P=(()=>{if(S==="custom")return Se||"unknown";if(S?.startsWith("identified_")){const ue=parseInt(S.split("_")[1]),Me=E?.parties?.[ue];if(Me)return{åŸå‘Š:"plaintiff",è¢«å‘Š:"defendant",ç”³è¯·äºº:"applicant",è¢«ç”³è¯·äºº:"respondent",ä¸Šè¯‰äºº:"appellant",è¢«ä¸Šè¯‰äºº:"appellee",ç¬¬ä¸‰äºº:"third_party"}[Me.role]||"unknown"}return S||"unknown"})(),de=be?`${w==="custom"?"è‡ªå®šä¹‰ç›®æ ‡ï¼š":""}${be}${U?`

`+U:""}`:U;O(`æ­£åœ¨${Z==="single"?"å•æ¨¡å‹":"å¤šæ¨¡å‹"}åˆ†ææ¡ˆä»¶...`),N(10);const pe=await L.analyzeLitigationCase({preorganized_data:R,case_position:P,analysis_scenario:r,case_package_id:o,case_type:a,user_input:de||Ce,analysis_mode:Z});ee(pe.session_id),N(20),O("åˆ†æå·²å¯åŠ¨ï¼ŒAI æ­£åœ¨è¿›è¡Œæ·±åº¦æ¨æ¼”...")}catch(a){console.error("Failed to start stage2 analysis:",a),m.error(a.response?.data?.detail||"å¯åŠ¨åˆ†æå¤±è´¥"),D("failed"),d(1)}},ce=()=>{d(0),H(null),J([]),_e(null),je(null),ae(null),Ie(null),re(""),tt(""),st(""),ee(""),D("idle"),N(0),O(""),oe(null),Ee(null),ie(!1),De()},mt=async a=>{try{const r=await L.getCaseResult(a);ee(a),r.case_type&&H(r.case_type),r.case_position&&ae(r.case_position),r.status==="completed"?(oe(r),d(3)):(r.status==="pending"||r.status==="processing"||r.status==="started")&&d(1),De(),m.success("ä»»åŠ¡å·²æ¢å¤")}catch(r){console.error("æ¢å¤ä»»åŠ¡å¤±è´¥:",r),m.error("æ¢å¤ä»»åŠ¡å¤±è´¥ï¼Œè¯·é‡è¯•")}},Oe=async a=>{try{await L.downloadPreorganizationReport(T,a),m.success(`${a.toUpperCase()}æŠ¥å‘Šä¸‹è½½æˆåŠŸ`)}catch(r){console.error("ä¸‹è½½é¢„æ•´ç†æŠ¥å‘Šå¤±è´¥:",r),m.error(r.response?.data?.detail||"ä¸‹è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},Le=async a=>{try{await L.downloadAnalysisReport(T,a),m.success(`${a.toUpperCase()}æŠ¥å‘Šä¸‹è½½æˆåŠŸ`)}catch(r){console.error("ä¸‹è½½åˆ†ææŠ¥å‘Šå¤±è´¥:",r),m.error(r.response?.data?.detail||"ä¸‹è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},ht=a=>{J(r=>r.filter(o=>o!==a))},yt=a=>(J(r=>[...r,a]),!1),ft=()=>e.jsx(f,{title:"æ­¥éª¤1ï¼šä¸Šä¼ æ¡ˆä»¶æ–‡æ¡£",children:e.jsxs(u,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsx(Et,{moduleName:"litigation_analysis",moduleLabel:"æ¡ˆä»¶åˆ†æ"}),e.jsx(me,{message:"æ™ºèƒ½æ¡ˆä»¶åˆ†æ",description:"ç³»ç»Ÿå°†æ ¹æ®æ‚¨ä¸Šä¼ çš„æ–‡æ¡£è‡ªåŠ¨è¯†åˆ«æ¡ˆä»¶ç±»å‹å¹¶è¿›è¡Œæ™ºèƒ½åˆ†æã€‚æ”¯æŒPDFã€Wordã€å›¾ç‰‡ç­‰æ ¼å¼ã€‚",type:"info",showIcon:!0}),e.jsxs("div",{children:[e.jsx(y,{strong:!0,style:{fontSize:16},children:"ä¸Šä¼ æ¡ˆä»¶æ–‡æ¡£"}),e.jsx(y,{type:"secondary",style:{marginLeft:8},children:"ï¼ˆè‡³å°‘ä¸Šä¼ 1ä¸ªæ–‡ä»¶ï¼‰"}),e.jsx($,{style:{margin:"12px 0"}}),e.jsxs(ps,{multiple:!0,fileList:[],beforeUpload:yt,accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg",children:[e.jsx("p",{className:"ant-upload-drag-icon",children:e.jsx(Lt,{style:{fontSize:48,color:"#1890ff"}})}),e.jsx("p",{className:"ant-upload-text",children:"ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤åŒºåŸŸä¸Šä¼ "}),e.jsx("p",{className:"ant-upload-hint",children:"æ”¯æŒPDFã€Wordã€å›¾ç‰‡ç­‰æ ¼å¼ï¼Œå¯åŒæ—¶ä¸Šä¼ å¤šä¸ªæ–‡ä»¶"})]}),I.length>0&&e.jsxs("div",{style:{marginTop:16},children:[e.jsxs(y,{strong:!0,children:["å·²é€‰æ‹© ",I.length," ä¸ªæ–‡ä»¶ï¼š"]}),e.jsx("div",{style:{marginTop:8},children:I.map((a,r)=>e.jsx(v,{closable:!0,onClose:()=>ht(a),style:{marginBottom:8},children:a.name},r))})]})]}),z&&e.jsx(f,{children:e.jsxs(u,{direction:"vertical",style:{width:"100%"},size:"middle",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(y,{strong:!0,children:et}),e.jsx(y,{type:"secondary",children:b>0?`${b}%`:""})]}),e.jsx(Be,{percent:b,status:b===100?"success":"active",strokeColor:{"0%":"#108ee9","100%":"#87d068"}})]})}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx(x,{type:"primary",size:"large",onClick:ut,loading:z,disabled:I.length===0||z,icon:e.jsx(We,{}),children:"ä¸‹ä¸€æ­¥ï¼šé¢„æ•´ç†æ–‡æ¡£"})})]})}),xt=()=>{if(!R)return null;let a=[];R.document_summaries&&typeof R.document_summaries=="object"?a=Object.values(R.document_summaries):R.document_analyses&&Array.isArray(R.document_analyses)&&(a=R.document_analyses);const r=R.document_relationships||[];return e.jsxs(u,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsx(f,{children:e.jsx(x,{onClick:()=>d(0),children:"ä¸Šä¸€æ­¥"})}),e.jsx(f,{children:e.jsxs(u,{direction:"vertical",size:"small",style:{width:"100%"},children:[e.jsx(y,{strong:!0,children:"æŠ¥å‘Šå¯¼å‡º"}),e.jsxs(u,{wrap:!0,children:[e.jsx(x,{icon:e.jsx(K,{}),onClick:()=>Oe("docx"),children:"ä¸‹è½½WordæŠ¥å‘Š"}),e.jsx(x,{icon:e.jsx(K,{}),onClick:()=>Oe("pdf"),children:"ä¸‹è½½PDFæŠ¥å‘Š"})]})]})}),E?e.jsx(f,{title:e.jsxs(u,{children:[e.jsx(Fe,{}),e.jsx(y,{strong:!0,children:"æ¡ˆä»¶å…¨æ™¯"}),e.jsx(v,{color:"purple",children:"AI æ·±åº¦æ´å¯Ÿ"})]}),style:{marginBottom:16},children:e.jsx($t,{enhancedAnalysis:E})}):e.jsx(f,{title:"æ¡ˆä»¶å…¨æ™¯",children:e.jsx(me,{message:"æ­£åœ¨ç”Ÿæˆå…¨æ™¯æ•°æ®...",type:"info",showIcon:!0})}),e.jsx(f,{title:e.jsxs(u,{children:[e.jsx(zt,{}),e.jsx(y,{strong:!0,children:"æ–‡æ¡£è¯¦ç»†åˆ†æ"})]}),children:e.jsx(Qe,{accordion:!0,children:a.map((o,h)=>{const P=o.document_title||o.file_name||`æ–‡æ¡£ ${h+1}`,de=ls[o.document_subtype||o.file_type]||"å…¶ä»–æ–‡ä¹¦";return e.jsx(us,{header:e.jsxs(u,{children:[e.jsx(y,{strong:!0,children:P}),e.jsx(v,{color:"blue",children:de})]}),children:e.jsxs(k,{column:1,size:"small",bordered:!0,children:[e.jsx(k.Item,{label:"æ ¸å¿ƒæ‘˜è¦",children:o.summary||o.content_summary}),o.risk_signals&&o.risk_signals.length>0&&e.jsx(k.Item,{label:"é£é™©æç¤º",children:o.risk_signals.map((pe,ue)=>e.jsx(v,{color:"red",children:pe},ue))})]})},o.file_id||h)})})}),r.length>0&&e.jsx(f,{title:`æ–‡æ¡£å…³è” (${r.length})`,children:e.jsx(A,{dataSource:r,renderItem:o=>e.jsx(A.Item,{children:e.jsxs(u,{children:[e.jsx(Mt,{}),e.jsx(y,{children:o.doc1_name||"æ–‡æ¡£A"}),e.jsx(v,{children:o.relationship_type}),e.jsx(y,{children:o.doc2_name||"æ–‡æ¡£B"}),e.jsxs(y,{type:"secondary",children:["(",o.description||o.reasoning,")"]})]})})})}),e.jsx(f,{title:"åˆ†æé…ç½®",children:e.jsxs(u,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsxs("div",{children:[e.jsx(y,{strong:!0,children:"æ‚¨çš„è¯‰è®¼åœ°ä½"}),e.jsx($,{style:{margin:"12px 0"}}),e.jsxs(B,{placeholder:"è¯·é€‰æ‹©æ‚¨çš„è¯‰è®¼åœ°ä½",size:"large",style:{width:"100%"},value:S,onChange:o=>{ae(o),o!=="custom"&&ve("")},children:[E?.parties&&E.parties.length>0&&E.parties.map((o,h)=>e.jsx(B.Option,{value:`identified_${h}`,children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:500},children:o.name}),e.jsxs("div",{style:{fontSize:12,color:"#999"},children:["è§’è‰²ï¼š",o.role]})]})},`identified_${h}`)),E?.parties&&E.parties.length>0&&e.jsx(B.Option,{disabled:!0,children:e.jsx($,{style:{margin:"8px 0"}})},"divider"),Ke.map(o=>e.jsx(B.Option,{value:o.value,children:o.label},o.value)),e.jsx(B.Option,{value:"custom",children:"å…¶ä»–ï¼ˆæ‰‹åŠ¨è¾“å…¥ï¼‰"},"custom")]}),S==="custom"&&e.jsx(fe,{placeholder:"è¯·è¾“å…¥æ‚¨çš„è¯‰è®¼åœ°ä½",value:Se,onChange:o=>ve(o.target.value),style:{marginTop:8}})]}),e.jsxs("div",{children:[e.jsx(y,{strong:!0,children:"åˆ†æåœºæ™¯"}),e.jsx($,{style:{margin:"12px 0"}}),e.jsx(B,{placeholder:"è¯·é€‰æ‹©åˆ†æåœºæ™¯",size:"large",style:{width:"100%"},value:w,onChange:o=>{Ie(o),o!=="custom"&&re("")},options:Ye}),w==="custom"&&e.jsx(fe.TextArea,{placeholder:"è¯·å…·ä½“æè¿°æ‚¨çš„åˆ†æåœºæ™¯å’Œéœ€æ±‚ï¼Œä¾‹å¦‚ï¼šå‡†å¤‡ä»²è£ã€ç”³è¯·æ‰§è¡Œã€è¯æ®æ”¶é›†ç­‰...",value:we,onChange:o=>re(o.target.value),autoSize:{minRows:2,maxRows:4},style:{marginTop:8}})]}),e.jsxs("div",{children:[e.jsx(y,{strong:!0,children:"åˆ†ææ¨¡å¼"}),e.jsx($,{style:{margin:"12px 0"}}),e.jsxs(he.Group,{value:Z,onChange:o=>nt(o.target.value),children:[e.jsx(he,{value:"multi",children:"å¤šæ¨¡å‹å¹¶è¡Œåˆ†æ (æ¨è)"}),e.jsx(he,{value:"single",children:"å•æ¨¡å‹å¿«é€Ÿåˆ†æ"})]})]}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx(x,{type:"primary",size:"large",icon:e.jsx(We,{}),onClick:gt,disabled:!S||!w,children:"å¯åŠ¨æ·±åº¦åˆ†æ"})})]})})]})},_t=()=>e.jsx(f,{title:"AI åˆ†æä¸­",children:e.jsxs(u,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsxs(f,{type:"inner",title:"æ¡ˆä»¶ä¿¡æ¯",size:"small",style:{backgroundColor:"#fafafa"},children:[e.jsxs(k,{column:2,size:"small",children:[e.jsx(k.Item,{label:"æ¡ˆä»¶ç±»å‹",children:C?e.jsx(v,{color:"blue",children:rs.find(a=>a.value===C)?.label||C}):"-"}),e.jsx(k.Item,{label:"è¯‰è®¼åœ°ä½",children:S?e.jsx(v,{color:"purple",children:Ke.find(a=>a.value===S)?.label||S}):"-"}),e.jsx(k.Item,{label:"åˆ†æåœºæ™¯",children:w?e.jsx(v,{color:"green",children:Ye.find(a=>a.value===w)?.label||w}):"-"}),e.jsx(k.Item,{label:"åˆ†ææ¨¡å¼",children:e.jsx(v,{color:"orange",children:Z==="multi"?"å¤šæ¨¡å‹å¹¶è¡Œåˆ†æ":"å•æ¨¡å‹å¿«é€Ÿåˆ†æ"})})]}),U&&e.jsxs("div",{style:{marginTop:12},children:[e.jsx(y,{type:"secondary",children:"è¡¥å……ä¿¡æ¯ï¼š"}),e.jsx(ds,{ellipsis:{rows:2,expandable:!0,symbol:"å±•å¼€"},style:{marginTop:4,marginBottom:0},children:U})]})]}),e.jsxs(u,{children:[V==="analyzing"&&e.jsx(ye,{spin:!0}),e.jsx(y,{strong:!0,style:{fontSize:16},children:rt})]}),e.jsx(Be,{percent:at,status:"active",strokeColor:{"0%":"#108ee9","100%":"#87d068"}}),$e&&e.jsx(me,{message:`å½“å‰é˜¶æ®µï¼š${$e}`,type:"info",showIcon:!0,style:{marginTop:8}})]})}),jt=()=>{if(!G)return null;if(G.status==="failed")return e.jsx(Ue,{status:"error",title:"åˆ†æå¤±è´¥",subTitle:"æ¨¡å‹åˆ†æå¤±è´¥ï¼Œè¯·é‡è¯•",extra:e.jsx(u,{children:e.jsx(x,{onClick:ce,children:"é‡æ–°åˆ†æ"})})});if(!G.model_results)return e.jsx(Ue,{status:"warning",title:"æ•°æ®æ ¼å¼é”™è¯¯",subTitle:"åç«¯è¿”å›çš„æ•°æ®æ ¼å¼ä¸æ­£ç¡®",extra:e.jsx(u,{children:e.jsx(x,{onClick:ce,children:"é‡æ–°åˆ†æ"})})});const{final_strength:a=0,confidence:r=0,final_summary:o="æ— æ‘˜è¦"}=G.model_results;return e.jsxs(u,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsx(f,{children:e.jsxs(u,{direction:"vertical",size:"small",style:{width:"100%"},children:[e.jsxs(u,{wrap:!0,children:[e.jsx(x,{onClick:ce,children:"é‡æ–°åˆ†æ"}),e.jsx(x,{type:"primary",onClick:ze,loading:Te,children:"ç”Ÿæˆæ³•å¾‹æ–‡ä¹¦"})]}),e.jsx($,{style:{margin:8}}),e.jsx(y,{strong:!0,children:"æŠ¥å‘Šå¯¼å‡º"}),e.jsxs(u,{wrap:!0,children:[e.jsx(x,{type:"primary",icon:e.jsx(K,{}),onClick:()=>Le("docx"),children:"ä¸‹è½½WordæŠ¥å‘Š"}),e.jsx(x,{icon:e.jsx(K,{}),onClick:()=>Le("pdf"),children:"ä¸‹è½½PDFæŠ¥å‘Š"})]})]})}),e.jsxs(f,{title:"æ ¸å¿ƒç»“è®º",children:[e.jsxs(bt,{gutter:16,children:[e.jsx(Ge,{span:12,children:e.jsx(He,{title:"èƒœè¯‰ç‡",value:(a*100).toFixed(1),suffix:"%",precision:1})}),e.jsx(Ge,{span:12,children:e.jsx(He,{title:"ç½®ä¿¡åº¦",value:(r*100).toFixed(0),suffix:"%"})})]}),e.jsx($,{}),e.jsx(Je,{children:o})]}),e.jsx(f,{title:"è¯¦ç»†åˆ†ææŠ¥å‘Š",children:e.jsx(Je,{children:G.final_report})})]})},ze=async()=>{if(le){ie(!0);try{const a=await L.generateLitigationDocuments({session_id:le,case_position:S,analysis_scenario:Q,analysis_result:G||void 0});Ee(a),m.success(`ç”Ÿæˆäº† ${a.total_count} ä»½æ–‡ä¹¦`),d(4)}catch{m.error("ç”Ÿæˆå¤±è´¥")}finally{ie(!1)}}},St=()=>Re?e.jsxs(u,{direction:"vertical",style:{width:"100%"},children:[e.jsx(f,{title:"æ³•å¾‹æ–‡ä¹¦è‰ç¨¿",children:e.jsx(A,{dataSource:Re.draft_documents,renderItem:a=>e.jsx(A.Item,{actions:[e.jsx(x,{icon:e.jsx(K,{}),children:"ä¸‹è½½"})],children:e.jsx(A.Item.Meta,{avatar:e.jsx(Fe,{style:{fontSize:24,color:"#1890ff"}}),title:a.document_name,description:`ç”Ÿæˆæ—¶é—´: ${new Date(a.generated_at).toLocaleString()}`})})})}),e.jsx(x,{onClick:()=>d(3),children:"è¿”å›æŠ¥å‘Š"})]}):e.jsx(f,{children:e.jsxs("div",{style:{textAlign:"center",padding:"50px 0"},children:[e.jsx("p",{children:'è¯·ç‚¹å‡»"ç”Ÿæˆæ³•å¾‹æ–‡ä¹¦"æŒ‰é’®å¼€å§‹ç”Ÿæˆæ–‡ä¹¦'}),e.jsx(x,{type:"primary",onClick:ze,loading:Te,children:"ç”Ÿæˆæ³•å¾‹æ–‡ä¹¦"})]})});return e.jsxs(qe,{style:{minHeight:"100vh",background:"#f0f2f5"},children:[e.jsx(Rt,{currentModuleKey:"case-analysis"}),e.jsx(cs,{style:{flex:1,padding:"24px"},children:e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[e.jsx(f,{style:{flex:1,marginRight:16},children:e.jsx(Nt,{current:p,items:[{title:"ä¸Šä¼ æ–‡ä»¶"},{title:"å…¨æ™¯é¢„æ•´ç†"},{title:"æ·±åº¦åˆ†æ"},{title:"åˆ†ææŠ¥å‘Š"},{title:"æ–‡ä¹¦ç”Ÿæˆ"}]})}),e.jsx(x,{icon:e.jsx(Ct,{}),onClick:()=>Ae(!0),style:{height:"auto",padding:"12px 24px"},children:"å†å²ä»»åŠ¡"})]}),p===0&&ft(),p===1&&xt(),p===2&&_t(),p===3&&jt(),p===4&&St()]})}),e.jsx(as,{visible:it,onClose:()=>Ae(!1),onLoadSession:mt})]})};export{sn as default};
